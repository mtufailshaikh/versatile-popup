{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/domtastic/src/util.js","webpack:///./node_modules/domtastic/src/selector/index.js","webpack:///./node_modules/domtastic/src/array.js","webpack:///./node_modules/domtastic/src/baseClass.js","webpack:///./node_modules/domtastic/src/css.js","webpack:///./node_modules/domtastic/src/dom/index.js","webpack:///./node_modules/domtastic/src/dom/attr.js","webpack:///./node_modules/domtastic/src/dom/class.js","webpack:///./node_modules/domtastic/src/dom/contains.js","webpack:///./node_modules/domtastic/src/dom/data.js","webpack:///./node_modules/domtastic/src/dom/extra.js","webpack:///./node_modules/domtastic/src/dom/html.js","webpack:///./node_modules/domtastic/src/selector/closest.js","webpack:///./node_modules/domtastic/src/event/index.js","webpack:///./node_modules/domtastic/src/event/trigger.js","webpack:///./node_modules/domtastic/src/event/ready.js","webpack:///./node_modules/domtastic/src/noconflict.js","webpack:///./node_modules/domtastic/src/selector/extra.js","webpack:///./node_modules/domtastic/src/type.js","webpack:///./node_modules/domtastic/src/index.js","webpack:///./src/cookies.js","webpack:///./src/versatile-popup.js","webpack:///./src/main.js"],"names":["win","window","toArray","length","collection","result","Array","i","each","callback","thisArg","undefined","nodeType","call","extend","target","sources","forEach","prop","src","uniq","filter","item","index","indexOf","isPrototypeSet","reFragment","reSingleTag","reSimpleSelector","domtastic","selector","context","document","querySelectorAll","DOMtastic","test","createFragment","querySelector","wrap","$","find","nodes","node","child","push","matches","Element","prototype","_matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","isSimpleSelector","getElementById","slice","getElementsByClassName","getElementsByTagName","html","createElement","RegExp","$1","elements","container","children","childNodes","innerHTML","l","fn","constructor","ArrayProto","every","_each","map","pop","reduce","reduceRight","reverse","shift","some","unshift","api","BaseClass","arguments","isNumeric","isNaN","parseFloat","value","isFinite","camelize","replace","letter","toUpperCase","dasherize","toLowerCase","css","key","styleProps","val","style","removeProperty","append","Node","insertAdjacentHTML","appendChild","NodeList","bind","prepend","insertBefore","firstChild","before","parentNode","after","nextSibling","clone","_clone","cloneNode","el","elm","attr","getAttribute","setAttribute","removeAttr","removeAttribute","addClass","split","removeClass","toggleClass","state","action","hasClass","classList","contains","fnName","className","compareDocumentPosition","DOCUMENT_POSITION_DISCONNECTED","isSupportsDataSet","documentElement","DATAKEYPROP","str","match","char","data","appendTo","empty","remove","removeChild","replaceWith","apply","text","textContent","fragment","closest","parentElement","n","on","eventNames","handler","useCapture","once","parts","namespace","eventListener","eventName","proxyHandler","delegateHandler","listener","off","event","addEventListener","getHandlers","handlers","removeEventListener","splice","clearHandlers","one","eventKeyProp","id","unusedKeys","augmentEvent","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","isDefaultPrevented","methodName","testMethodName","originalMethod","_preventDefault","eventTarget","_target","currentTarget","isPropagationStopped","unbind","reMouseEvent","reKeyEvent","trigger","type","bubbles","cancelable","EventConstructor","getEventConstructor","detail","isEventBubblingInDetachedTree","isAttachedToDocument","dispatchEvent","triggerForPath","isSupportsOtherEventConstructors","MouseEvent","KeyboardEvent","CustomEvent","triggerHandler","ownerDocument","params","directEventMethods","customEvent","createEvent","initCustomEvent","isBubbling","doc","parent","e","ready","readyState","body","previousLib","noConflict","concat","contents","eq","first","get","siblings","sibling","start","end","isFunction","obj","isArray","dom_contains","noconflict","array","dom_attr","dom","dom_class","dom_data","dom_extra","dom_html","event_trigger","event_ready","selector_closest","selector_extra","version","Cookies","name","options","encode","maxage","date","Date","setTime","getTime","expires","toUTCString","path","domain","secure","cookie","cookies","parse","write","read","hasOwnProperty","pairs","pair","decode","encodeURIComponent","decodeURIComponent","MaxAge","TTversatilePopup","header","footer","showOnLoad","startDate","endDate","globalName","customVisible","inForm","$widget","htmlString","elem","trim","_widget","createElementFromString","localQuery","checkexpireDate","console","error","hide","show","start_date","end_date","today","conversionCard","openBtn","_header","_body","_footer","showClass","showArrow","bgImage","backgroundImage","ttPlugin","versatileCard"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;;;;AAIA;;;;;AAKO,IAAMA,MAAM,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAArD;;AAEP;;;;;;;;AAQO,IAAMC,UAAU,SAAVA,OAAU,aAAc;AACnC,MAAMC,SAASC,WAAWD,MAA1B;AACA,MAAME,SAAS,IAAIC,KAAJ,CAAUH,MAAV,CAAf;AACA,OAAI,IAAII,IAAI,CAAZ,EAAeA,IAAIJ,MAAnB,EAA2BI,GAA3B,EAAgC;AAC9BF,WAAOE,CAAP,IAAYH,WAAWG,CAAX,CAAZ;AACD;AACD,SAAOF,MAAP;AACD,CAPM;;AASP;;;;;;;;;AASO,IAAMG,OAAO,SAAPA,IAAO,CAACJ,UAAD,EAAaK,QAAb,EAAuBC,OAAvB,EAAmC;AACrD,MAAMP,SAASC,WAAWD,MAA1B;AACA,MAAGA,WAAWQ,SAAX,IAAwBP,WAAWQ,QAAX,KAAwBD,SAAnD,EAA8D;AAC5D,SAAI,IAAIJ,IAAI,CAAZ,EAAeA,IAAIJ,MAAnB,EAA2BI,GAA3B,EAAgC;AAC9BE,eAASI,IAAT,CAAcH,OAAd,EAAuBN,WAAWG,CAAX,CAAvB,EAAsCA,CAAtC,EAAyCH,UAAzC;AACD;AACF,GAJD,MAIO;AACLK,aAASI,IAAT,CAAcH,OAAd,EAAuBN,UAAvB,EAAmC,CAAnC,EAAsCA,UAAtC;AACD;AACD,SAAOA,UAAP;AACD,CAVM;;AAYP;;;;;;;;;;;;;AAaO,IAAMU,SAAS,SAATA,MAAS,CAACC,MAAD,EAAwB;AAAA,oCAAZC,OAAY;AAAZA,WAAY;AAAA;;AAC5CA,UAAQC,OAAR,CAAgB,eAAO;AACrB,SAAI,IAAIC,IAAR,IAAgBC,GAAhB,EAAqB;AACnBJ,aAAOG,IAAP,IAAeC,IAAID,IAAJ,CAAf;AACD;AACF,GAJD;AAKA,SAAOH,MAAP;AACD,CAPM;;AASP;;;;;;;;AAQO,IAAMK,OAAO,SAAPA,IAAO;AAAA,SAAchB,WAAWiB,MAAX,CAAkB,UAACC,IAAD,EAAOC,KAAP;AAAA,WAAiBnB,WAAWoB,OAAX,CAAmBF,IAAnB,MAA6BC,KAA9C;AAAA,GAAlB,CAAd;AAAA,CAAb,C;;AC/EP;;;;AAIA;;AAEA,IAAIE,iBAAiB,KAArB;;AAEA,IAAMC,aAAa,oBAAnB;AACA,IAAMC,cAAc,4BAApB;AACA,IAAMC,mBAAmB,eAAzB;;AAEA;;;;;;;;;;;;;;;;;AAiBA,IAAMC,YAAY,SAASA,SAAT,CAAmBC,QAAnB,EAAiD;AAAA,MAApBC,OAAoB,uEAAVC,QAAU;;;AAEjE,MAAI5B,mBAAJ;;AAEA,MAAG,CAAC0B,QAAJ,EAAc;;AAEZ1B,iBAAa4B,SAASC,gBAAT,CAA0B,IAA1B,CAAb;AAED,GAJD,MAIO,IAAGH,oBAAoBI,SAAvB,EAAkC;;AAEvC,WAAOJ,QAAP;AAED,GAJM,MAIA,IAAG,OAAOA,QAAP,KAAoB,QAAvB,EAAiC;;AAEtC1B,iBAAa0B,SAASlB,QAAT,IAAqBkB,aAAa7B,MAAlC,GAA2C,CAAC6B,QAAD,CAA3C,GAAwDA,QAArE;AAED,GAJM,MAIA,IAAGJ,WAAWS,IAAX,CAAgBL,QAAhB,CAAH,EAA8B;;AAEnC1B,iBAAagC,eAAeN,QAAf,CAAb;AAED,GAJM,MAIA;;AAELC,cAAU,OAAOA,OAAP,KAAmB,QAAnB,GAA8BC,SAASK,aAAT,CAAuBN,OAAvB,CAA9B,GAAgEA,QAAQ5B,MAAR,GAAiB4B,QAAQ,CAAR,CAAjB,GAA8BA,OAAxG;;AAEA3B,iBAAaiC,cAAcP,QAAd,EAAwBC,OAAxB,CAAb;AAED;;AAED,SAAOO,KAAKlC,UAAL,CAAP;AAED,CA9BD;;AAgCO,IAAMmC,IAAIV,SAAV;;AAEP;;;;;;;;;AASO,IAAMW,aAAIA,GAAG,SAAPA,IAAO,CAASV,QAAT,EAAmB;AACrC,MAAMW,QAAQ,EAAd;AACAjC,MAAIA,CAAC,IAAL,EAAW;AAAA,WAAQA,IAAIA,CAAC6B,cAAcP,QAAd,EAAwBY,IAAxB,CAAL,EAAoC,iBAAS;AAC9D,UAAGD,MAAMjB,OAAN,CAAcmB,KAAd,MAAyB,CAAC,CAA7B,EAAgC;AAC9BF,cAAMG,IAAN,CAAWD,KAAX;AACD;AACF,KAJkB,CAAR;AAAA,GAAX;AAKA,SAAOJ,EAAEE,KAAF,CAAP;AACD,CARM;;AAUP;;;;;;;;;;;AAWO,IAAMI,UAAW,YAAM;AAC5B,MAAMd,UAAU,OAAOe,OAAP,KAAmB,WAAnB,GAAiCA,QAAQC,SAAzC,GAAqD/C,GAArE;AACA,MAAMgD,WAAWjB,QAAQc,OAAR,IAAmBd,QAAQkB,eAA3B,IAA8ClB,QAAQmB,kBAAtD,IAA4EnB,QAAQoB,iBAApF,IAAyGpB,QAAQqB,gBAAjH,IAAqIrB,QAAQsB,qBAA9J;AACA,SAAO,UAACC,OAAD,EAAUxB,QAAV;AAAA,WAAuBkB,SAASnC,IAAT,CAAcyC,OAAd,EAAuBxB,QAAvB,CAAvB;AAAA,GAAP;AACD,CAJsB,EAAhB;;AAMP;;;;;;;;;AASA,IAAMO,gBAAgB,SAAhBA,aAAgB,CAACP,QAAD,EAAWC,OAAX,EAAuB;;AAE3C,MAAMwB,mBAAmB3B,iBAAiBO,IAAjB,CAAsBL,QAAtB,CAAzB;;AAEA,MAAGyB,gBAAH,EAAqB;AACnB,QAAGzB,SAAS,CAAT,MAAgB,GAAnB,EAAwB;AACtB,UAAMwB,UAAU,CAACvB,QAAQyB,cAAR,GAAyBzB,OAAzB,GAAmCC,QAApC,EAA8CwB,cAA9C,CAA6D1B,SAAS2B,KAAT,CAAe,CAAf,CAA7D,CAAhB;AACA,aAAOH,UAAU,CAACA,OAAD,CAAV,GAAsB,EAA7B;AACD;AACD,QAAGxB,SAAS,CAAT,MAAgB,GAAnB,EAAwB;AACtB,aAAOC,QAAQ2B,sBAAR,CAA+B5B,SAAS2B,KAAT,CAAe,CAAf,CAA/B,CAAP;AACD;AACD,WAAO1B,QAAQ4B,oBAAR,CAA6B7B,QAA7B,CAAP;AACD;;AAED,SAAOC,QAAQE,gBAAR,CAAyBH,QAAzB,CAAP;AAED,CAjBD;;AAmBA;;;;;;;;AAQA,IAAMM,iBAAiB,SAAjBA,cAAiB,OAAQ;;AAE7B,MAAGT,YAAYQ,IAAZ,CAAiByB,IAAjB,CAAH,EAA2B;AACzB,WAAO,CAAC5B,SAAS6B,aAAT,CAAuBC,OAAOC,EAA9B,CAAD,CAAP;AACD;;AAED,MAAMC,WAAW,EAAjB;AACA,MAAMC,YAAYjC,SAAS6B,aAAT,CAAuB,KAAvB,CAAlB;AACA,MAAMK,WAAWD,UAAUE,UAA3B;;AAEAF,YAAUG,SAAV,GAAsBR,IAAtB;;AAEA,OAAI,IAAIrD,IAAI,CAAR,EAAW8D,IAAIH,SAAS/D,MAA5B,EAAoCI,IAAI8D,CAAxC,EAA2C9D,GAA3C,EAAgD;AAC9CyD,aAASpB,IAAT,CAAcsB,SAAS3D,CAAT,CAAd;AACD;;AAED,SAAOyD,QAAP;AACD,CAjBD;;AAmBA;;;;;;;;AAQA,IAAM1B,OAAO,SAAPA,IAAO,aAAc;;AAEzB,MAAG,CAACb,cAAJ,EAAoB;AAClBS,cAAUa,SAAV,GAAsBR,EAAE+B,EAAxB;AACApC,cAAUa,SAAV,CAAoBwB,WAApB,GAAkCrC,SAAlC;AACAT,qBAAiB,IAAjB;AACD;;AAED,SAAO,IAAIS,SAAJ,CAAc9B,UAAd,CAAP;AACD,CATD;;AAWA;;;;;;;;AAQO,IAAM8B,YAAY,SAASA,SAAT,CAAmB9B,UAAnB,EAA+B;AACtD,MAAIG,IAAI,CAAR;AACA,MAAMJ,SAASC,WAAWD,MAA1B;AACA,SAAMI,IAAIJ,MAAV,GAAmB;AACjB,SAAKI,CAAL,IAAUH,WAAWG,GAAX,CAAV;AACD;AACD,OAAKJ,MAAL,GAAcA,MAAd;AACD,CAPM,C;;ACrLP;;;;AAIA;AACA;;AAEA,IAAMqE,aAAalE,MAAMyC,SAAzB;;AAEA;;;;;;;;;;;;;AAaO,IAAM0B,QAAQD,WAAWC,KAAzB;;AAEP;;;;;;;;;;;;;;;AAeO,IAAMpD,YAAMA,GAAG,SAATA,MAAS,CAASS,QAAT,EAAmBpB,OAAnB,EAA4B;AAChD,MAAMD,WAAW,OAAOqB,QAAP,KAAoB,UAApB,GAAiCA,QAAjC,GAA4C;AAAA,WAAWe,OAAOA,CAACS,OAAR,EAAiBxB,QAAjB,CAAX;AAAA,GAA7D;AACA,SAAOS,CAACA,CAACiC,WAAWnD,MAAX,CAAkBR,IAAlB,CAAuB,IAAvB,EAA6BJ,QAA7B,EAAuCC,OAAvC,CAAF,CAAP;AACD,CAHM;;AAKP;;;;;;;;;;;;;AAaO,IAAMO,aAAOA,GAAG,SAAVA,OAAU,CAASR,QAAT,EAAmBC,OAAnB,EAA4B;AACjD,SAAOgE,IAAKA,CAAC,IAAN,EAAYjE,QAAZ,EAAsBC,OAAtB,CAAP;AACD,CAFM;;AAIA,IAAMF,UAAIA,GAAGS,aAAb;;AAEP;;;;;;;;;AASO,IAAMO,UAAUgD,WAAWhD,OAA3B;;AAEP;;;;;;;;;;;;AAYO,IAAMmD,MAAMH,WAAWG,GAAvB;;AAEP;;;;;;;;AAQO,IAAMC,MAAMJ,WAAWI,GAAvB;;AAEP;;;;;;;;;AASO,IAAMhC,OAAO4B,WAAW5B,IAAxB;;AAEP;;;;;;;;;;;;;AAaO,IAAMiC,SAASL,WAAWK,MAA1B;;AAEP;;;;;;;;;;;;;AAaO,IAAMC,cAAcN,WAAWM,WAA/B;;AAEP;;;;;;;;;AASO,IAAMC,aAAOA,GAAG,SAAVA,OAAU,GAAW;AAChC,SAAOxC,CAACA,CAACrC,OAAOA,CAAC,IAAR,EAAc6E,OAAd,EAAF,CAAP;AACD,CAFM;;AAIP;;;;;;;;AAQO,IAAMC,QAAQR,WAAWQ,KAAzB;;AAEP;;;;;;;;;;;AAWO,IAAMC,OAAOT,WAAWS,IAAxB;;AAEP;;;;;;;;;AASO,IAAMC,UAAUV,WAAWU,OAA3B,C;;;;ACxLP;;;;AAIA;AACA;;AAEe,wDAASC,GAAT,EAAc;;AAE3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAF2B,MAgCrBC,SAhCqB,GAiCzB,qBAAc;AAAA;;AACZlD,aAASA,CAACrB,IAAV,CAAe,IAAf,EAAqBiB,CAAQA,kBAAIuD,SAAZ,CAArB;AACD,GAnCwB;;AAqC3BvE,QAAMA,CAACsE,UAAUrC,SAAjB,EAA4BoC,GAA5B;AACA,SAAOC,SAAP;AACD,C;;AC9CD;;;;AAIA;;AAEA,IAAME,YAAY,SAAZA,SAAY;AAAA,SAAS,CAACC,MAAMC,WAAWC,KAAX,CAAN,CAAD,IAA6BC,SAASD,KAAT,CAAtC;AAAA,CAAlB;;AAEA,IAAME,WAAW,SAAXA,QAAW;AAAA,SAASF,MAAMG,OAAN,CAAc,cAAd,EAA8B,UAAC/C,OAAD,EAAUgD,MAAV;AAAA,WAAqBA,OAAOC,WAAP,EAArB;AAAA,GAA9B,CAAT;AAAA,CAAjB;;AAEA,IAAMC,YAAY,SAAZA,SAAY;AAAA,SAASN,MAAMG,OAAN,CAAc,mBAAd,EAAmC,OAAnC,EAA4CI,WAA5C,EAAT;AAAA,CAAlB;;AAEA;;;;;;;;;;;;;AAaO,IAAMC,OAAGA,GAAG,SAANA,GAAM,CAASC,GAAT,EAAcT,KAAd,EAAqB;;AAEtC,MAAIU,mBAAJ;AAAA,MAAgBjF,aAAhB;AAAA,MAAsBkF,YAAtB;;AAEA,MAAG,OAAOF,GAAP,KAAe,QAAlB,EAA4B;AAC1BA,UAAMP,SAASO,GAAT,CAAN;;AAEA,QAAG,OAAOT,KAAP,KAAiB,WAApB,EAAiC;AAC/B,UAAInC,UAAU,KAAK1C,QAAL,GAAgB,IAAhB,GAAuB,KAAK,CAAL,CAArC;AACA,UAAG0C,OAAH,EAAY;AACV8C,cAAM9C,QAAQ+C,KAAR,CAAcH,GAAd,CAAN;AACA,eAAOZ,UAAUc,GAAV,IAAiBZ,WAAWY,GAAX,CAAjB,GAAmCA,GAA1C;AACD;AACD,aAAOzF,SAAP;AACD;;AAEDwF,iBAAa,EAAb;AACAA,eAAWD,GAAX,IAAkBT,KAAlB;AACD,GAdD,MAcO;AACLU,iBAAaD,GAAb;AACA,SAAIhF,IAAJ,IAAYiF,UAAZ,EAAwB;AACtBC,YAAMD,WAAWjF,IAAX,CAAN;AACA,aAAOiF,WAAWjF,IAAX,CAAP;AACAiF,iBAAWR,SAASzE,IAAT,CAAX,IAA6BkF,GAA7B;AACD;AACF;;AAED5F,MAAIA,CAAC,IAAL,EAAW,mBAAW;AACpB,SAAIU,IAAJ,IAAYiF,UAAZ,EAAwB;AACtB,UAAGA,WAAWjF,IAAX,KAAoBiF,WAAWjF,IAAX,MAAqB,CAA5C,EAA+C;AAC7CoC,gBAAQ+C,KAAR,CAAcnF,IAAd,IAAsBiF,WAAWjF,IAAX,CAAtB;AACD,OAFD,MAEO;AACLoC,gBAAQ+C,KAAR,CAAcC,cAAd,CAA6BP,UAAU7E,IAAV,CAA7B;AACD;AACF;AACF,GARD;;AAUA,SAAO,IAAP;AACD,CAtCM,C;;ACzBP;;;;AAIA;AACA;;AAEA,IAAMD,WAAOA,GAAGX,MAAMyC,SAAN,CAAgB9B,OAAhC;;AAEA;;;;;;;;;;;AAWO,IAAMsF,UAAMA,GAAG,SAATA,MAAS,CAASjD,OAAT,EAAkB;AACtC,MAAG,gBAAgBkD,IAAnB,EAAyB;AACvB,QAAG,OAAOlD,OAAP,KAAmB,QAAtB,EAAgC;AAC9B,WAAKmD,kBAAL,CAAwB,WAAxB,EAAqCnD,OAArC;AACD,KAFD,MAEO;AACL,UAAGA,mBAAmBkD,IAAtB,EAA4B;AAC1B,aAAKE,WAAL,CAAiBpD,OAAjB;AACD,OAFD,MAEO;AACL,YAAMU,WAAWV,mBAAmBqD,QAAnB,GAA8BzG,OAAOA,CAACoD,OAAR,CAA9B,GAAiDA,OAAlE;AACArC,mBAAOA,CAACJ,IAAR,CAAamD,QAAb,EAAuB,KAAK0C,WAAL,CAAiBE,IAAjB,CAAsB,IAAtB,CAAvB;AACD;AACF;AACF,GAXD,MAWO;AACLlC,YAAKA,CAAC,IAAN,EAAY6B,MAAZ,EAAoBjD,OAApB;AACD;AACD,SAAO,IAAP;AACD,CAhBM;;AAkBP;;;;;;;;;;;AAWO,IAAMuD,WAAOA,GAAG,SAAVA,OAAU,CAASvD,OAAT,EAAkB;AACvC,MAAG,gBAAgBkD,IAAnB,EAAyB;AACvB,QAAG,OAAOlD,OAAP,KAAmB,QAAtB,EAAgC;AAC9B,WAAKmD,kBAAL,CAAwB,YAAxB,EAAsCnD,OAAtC;AACD,KAFD,MAEO;AACL,UAAGA,mBAAmBkD,IAAtB,EAA4B;AAC1B,aAAKM,YAAL,CAAkBxD,OAAlB,EAA2B,KAAKyD,UAAhC;AACD,OAFD,MAEO;AACL,YAAI/C,WAAWV,mBAAmBqD,QAAnB,GAA8BzG,OAAOA,CAACoD,OAAR,CAA9B,GAAiDA,OAAhE;AACArC,mBAAOA,CAACJ,IAAR,CAAamD,SAASe,OAAT,EAAb,EAAiC8B,QAAQD,IAAR,CAAa,IAAb,CAAjC;AACD;AACF;AACF,GAXD,MAWO;AACLlC,YAAKA,CAAC,IAAN,EAAYmC,OAAZ,EAAqBvD,OAArB;AACD;AACD,SAAO,IAAP;AACD,CAhBM;;AAkBP;;;;;;;;;;;AAWO,IAAM0D,UAAMA,GAAG,SAATA,MAAS,CAAS1D,OAAT,EAAkB;AACtC,MAAG,gBAAgBkD,IAAnB,EAAyB;AACvB,QAAG,OAAOlD,OAAP,KAAmB,QAAtB,EAAgC;AAC9B,WAAKmD,kBAAL,CAAwB,aAAxB,EAAuCnD,OAAvC;AACD,KAFD,MAEO;AACL,UAAGA,mBAAmBkD,IAAtB,EAA4B;AAC1B,aAAKS,UAAL,CAAgBH,YAAhB,CAA6BxD,OAA7B,EAAsC,IAAtC;AACD,OAFD,MAEO;AACL,YAAMU,WAAWV,mBAAmBqD,QAAnB,GAA8BzG,OAAOA,CAACoD,OAAR,CAA9B,GAAiDA,OAAlE;AACArC,mBAAOA,CAACJ,IAAR,CAAamD,QAAb,EAAuBgD,OAAOJ,IAAP,CAAY,IAAZ,CAAvB;AACD;AACF;AACF,GAXD,MAWO;AACLlC,YAAKA,CAAC,IAAN,EAAYsC,MAAZ,EAAoB1D,OAApB;AACD;AACD,SAAO,IAAP;AACD,CAhBM;;AAkBP;;;;;;;;;;AAUO,IAAM4D,SAAKA,GAAG,SAARA,KAAQ,CAAS5D,OAAT,EAAkB;AACrC,MAAG,gBAAgBkD,IAAnB,EAAyB;AACvB,QAAG,OAAOlD,OAAP,KAAmB,QAAtB,EAAgC;AAC9B,WAAKmD,kBAAL,CAAwB,UAAxB,EAAoCnD,OAApC;AACD,KAFD,MAEO;AACL,UAAGA,mBAAmBkD,IAAtB,EAA4B;AAC1B,aAAKS,UAAL,CAAgBH,YAAhB,CAA6BxD,OAA7B,EAAsC,KAAK6D,WAA3C;AACD,OAFD,MAEO;AACL,YAAMnD,WAAWV,mBAAmBqD,QAAnB,GAA8BzG,OAAOA,CAACoD,OAAR,CAA9B,GAAiDA,OAAlE;AACArC,mBAAOA,CAACJ,IAAR,CAAamD,SAASe,OAAT,EAAb,EAAiCmC,MAAMN,IAAN,CAAW,IAAX,CAAjC;AACD;AACF;AACF,GAXD,MAWO;AACLlC,YAAKA,CAAC,IAAN,EAAYwC,KAAZ,EAAmB5D,OAAnB;AACD;AACD,SAAO,IAAP;AACD,CAhBM;;AAkBP;;;;;;;;AAQO,IAAM8D,SAAKA,GAAG,SAARA,KAAQ,GAAW;AAC9B,SAAO7E,CAACA,CAAC8E,OAAO,IAAP,CAAF,CAAP;AACD,CAFM;;AAIP;;;;;;;;AAQO,IAAMA,SAAS,SAATA,MAAS,UAAW;AAC/B,MAAG,OAAO/D,OAAP,KAAmB,QAAtB,EAAgC;AAC9B,WAAOA,OAAP;AACD,GAFD,MAEO,IAAGA,mBAAmBkD,IAAtB,EAA4B;AACjC,WAAOlD,QAAQgE,SAAR,CAAkB,IAAlB,CAAP;AACD,GAFM,MAEA,IAAG,YAAYhE,OAAf,EAAwB;AAC7B,WAAO,GAAGqB,GAAH,CAAO9D,IAAP,CAAYyC,OAAZ,EAAqB;AAAA,aAAMiE,GAAGD,SAAH,CAAa,IAAb,CAAN;AAAA,KAArB,CAAP;AACD;AACD,SAAOhE,OAAP;AACD,CATM;;AAWP;;;;;;;;;AASO,IAAMoB,QAAKA,GAAG,SAARA,KAAQ,CAACtE,UAAD,EAAakE,EAAb,EAAiBhB,OAAjB,EAA6B;AAChD,MAAIe,IAAIjE,WAAWD,MAAnB;AACA,SAAMkE,GAAN,EAAW;AACT,QAAMmD,MAAMnD,MAAM,CAAN,GAAUf,OAAV,GAAoB+D,OAAO/D,OAAP,CAAhC;AACAgB,OAAGzD,IAAH,CAAQT,WAAWiE,CAAX,CAAR,EAAuBmD,GAAvB;AACD;AACF,CANM,C;;;;ACpKP;;;;AAIA;;AAEA;;;;;;;;;;;;;AAaO,IAAMC,SAAIA,GAAG,SAAPA,IAAO,CAASvB,GAAT,EAAcT,KAAd,EAAqB;;AAEvC,MAAG,OAAOS,GAAP,KAAe,QAAf,IAA2B,OAAOT,KAAP,KAAiB,WAA/C,EAA4D;AAC1D,QAAMnC,UAAU,KAAK1C,QAAL,GAAgB,IAAhB,GAAuB,KAAK,CAAL,CAAvC;AACA,WAAO0C,UAAUA,QAAQoE,YAAR,CAAqBxB,GAArB,CAAV,GAAsCvF,SAA7C;AACD;;AAED,SAAOH,IAAIA,CAAC,IAAL,EAAW,mBAAW;AAC3B,QAAG,QAAO0F,GAAP,yCAAOA,GAAP,OAAe,QAAlB,EAA4B;AAC1B,WAAI,IAAIuB,KAAR,IAAgBvB,GAAhB,EAAqB;AACnB5C,gBAAQqE,YAAR,CAAqBF,KAArB,EAA2BvB,IAAIuB,KAAJ,CAA3B;AACD;AACF,KAJD,MAIO;AACLnE,cAAQqE,YAAR,CAAqBzB,GAArB,EAA0BT,KAA1B;AACD;AACF,GARM,CAAP;AASD,CAhBM;;AAkBP;;;;;;;;;;AAUO,IAAMmC,eAAUA,GAAG,SAAbA,UAAa,CAAS1B,GAAT,EAAc;AACtC,SAAO1F,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQuE,eAAR,CAAwB3B,GAAxB,CAAX;AAAA,GAAX,CAAP;AACD,CAFM,C;;AC/CP;;;;AAIA;;AAEA;;;;;;;;;;;AAWO,IAAM4B,cAAQA,GAAG,SAAXA,QAAW,CAASrC,KAAT,EAAgB;AACtC,MAAGA,SAASA,MAAMtF,MAAlB,EAA0B;AACxBK,QAAIA,CAACiF,MAAMsC,KAAN,CAAY,GAAZ,CAAL,EAAuBrD,UAAKA,CAACkC,IAAN,CAAW,IAAX,EAAiB,KAAjB,CAAvB;AACD;AACD,SAAO,IAAP;AACD,CALM;;AAOP;;;;;;;;;;;AAWO,IAAMoB,iBAAWA,GAAG,SAAdA,WAAc,CAASvC,KAAT,EAAgB;AACzC,MAAGA,SAASA,MAAMtF,MAAlB,EAA0B;AACxBK,QAAIA,CAACiF,MAAMsC,KAAN,CAAY,GAAZ,CAAL,EAAuBrD,UAAKA,CAACkC,IAAN,CAAW,IAAX,EAAiB,QAAjB,CAAvB;AACD;AACD,SAAO,IAAP;AACD,CALM;;AAOP;;;;;;;;;;;;;AAaO,IAAMqB,iBAAWA,GAAG,SAAdA,WAAc,CAASxC,KAAT,EAAgByC,KAAhB,EAAuB;AAChD,MAAGzC,SAASA,MAAMtF,MAAlB,EAA0B;AACxB,QAAMgI,SAAS,OAAOD,KAAP,KAAiB,SAAjB,GAA6BA,QAAQ,KAAR,GAAgB,QAA7C,GAAwD,QAAvE;AACA1H,QAAIA,CAACiF,MAAMsC,KAAN,CAAY,GAAZ,CAAL,EAAuBrD,UAAKA,CAACkC,IAAN,CAAW,IAAX,EAAiBuB,MAAjB,CAAvB;AACD;AACD,SAAO,IAAP;AACD,CANM;;AAQP;;;;;;;;;;AAUO,IAAMC,WAAW,SAAXA,QAAW,CAAS3C,KAAT,EAAgB;AACtC,SAAO,CAAC,KAAK7E,QAAL,GAAgB,CAAC,IAAD,CAAhB,GAAyB,IAA1B,EAAgCqE,IAAhC,CAAqC;AAAA,WAAW3B,QAAQ+E,SAAR,CAAkBC,QAAlB,CAA2B7C,KAA3B,CAAX;AAAA,GAArC,CAAP;AACD,CAFM;;AAIP;;;;;;;;AAQA,IAAMf,UAAKA,GAAG,SAARA,KAAQ,CAAS6D,MAAT,EAAiBC,SAAjB,EAA4B;AACxC,SAAOhI,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQ+E,SAAR,CAAkBE,MAAlB,EAA0BC,SAA1B,CAAX;AAAA,GAAX,CAAP;AACD,CAFD,C;;ACrFA;;;;AAIA;;;;;;;;;;AAUO,IAAMF,WAAW,SAAXA,QAAW,CAACrE,SAAD,EAAYX,OAAZ,EAAwB;AAC9C,MAAG,CAACW,SAAD,IAAc,CAACX,OAAf,IAA0BW,cAAcX,OAA3C,EAAoD;AAClD,WAAO,KAAP;AACD,GAFD,MAEO,IAAGW,UAAUqE,QAAb,EAAuB;AAC5B,WAAOrE,UAAUqE,QAAV,CAAmBhF,OAAnB,CAAP;AACD,GAFM,MAEA,IAAGW,UAAUwE,uBAAb,EAAsC;AAC3C,WAAO,EAAExE,UAAUwE,uBAAV,CAAkCnF,OAAlC,IAA6CkD,KAAKkC,8BAApD,CAAP;AACD;AACD,SAAO,KAAP;AACD,CATM,C;;ACdP;;;;AAIA;;AAEA,IAAMC,oBAAoB,OAAO3G,QAAP,KAAoB,WAApB,IAAmC,aAAaA,SAAS4G,eAAnF;AACA,IAAMC,cAAcF,oBAAoB,SAApB,GAAgC,oBAApD;;AAEA,IAAMhD,aAAQA,GAAG,SAAXA,QAAW;AAAA,SAAOmD,IAAIlD,OAAJ,CAAY,SAAZ,EAAuB,UAACmD,KAAD,EAAQC,IAAR;AAAA,WAAiBA,OAAOA,KAAKlD,WAAL,EAAP,GAA4B,EAA7C;AAAA,GAAvB,CAAP;AAAA,CAAjB;;AAEA;;;;;;;;;;;;AAYO,IAAMmD,SAAIA,GAAG,SAAPA,IAAO,CAAS/C,GAAT,EAAcT,KAAd,EAAqB;;AAEvC,MAAG,OAAOS,GAAP,KAAe,QAAf,IAA2B,OAAOT,KAAP,KAAiB,WAA/C,EAA4D;AAC1D,QAAMnC,UAAU,KAAK1C,QAAL,GAAgB,IAAhB,GAAuB,KAAK,CAAL,CAAvC;AACA,WAAO0C,WAAWuF,eAAevF,OAA1B,GAAoCA,QAAQuF,WAAR,EAAqBlD,aAAQA,CAACO,GAAT,CAArB,CAApC,GAA0EvF,SAAjF;AACD;;AAED,SAAOH,IAAIA,CAAC,IAAL,EAAW,mBAAW;AAC3B,QAAG,CAACmI,iBAAJ,EAAuB;AACrBrF,cAAQuF,WAAR,IAAuBvF,QAAQuF,WAAR,KAAwB,EAA/C;AACD;;AAEDvF,YAAQuF,WAAR,EAAqBlD,aAAQA,CAACO,GAAT,CAArB,IAAsCT,KAAtC;AACD,GANM,CAAP;AAOD,CAdM;;AAgBP;;;;;;;;;;;;AAYO,IAAMvE,SAAIA,GAAG,SAAPA,IAAO,CAASgF,GAAT,EAAcT,KAAd,EAAqB;;AAEvC,MAAG,OAAOS,GAAP,KAAe,QAAf,IAA2B,OAAOT,KAAP,KAAiB,WAA/C,EAA4D;AAC1D,QAAMnC,UAAU,KAAK1C,QAAL,GAAgB,IAAhB,GAAuB,KAAK,CAAL,CAAvC;AACA,WAAO0C,WAAWA,OAAX,GAAqBA,QAAQ4C,GAAR,CAArB,GAAoCvF,SAA3C;AACD;;AAED,SAAOH,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQ4C,GAAR,IAAeT,KAA1B;AAAA,GAAX,CAAP;AACD,CARM,C;;ACnDP;;;;AAIA;AACA;AACA;;AAEA;;;;;;;;;;AAUO,IAAMyD,cAAQA,GAAG,SAAXA,QAAW,CAAS5F,OAAT,EAAkB;AACxC,MAAMvB,UAAU,OAAOuB,OAAP,KAAmB,QAAnB,GAA8Bf,CAACA,CAACe,OAAF,CAA9B,GAA2CA,OAA3D;AACAiD,YAAMA,CAAC1F,IAAP,CAAYkB,OAAZ,EAAqB,IAArB;AACA,SAAO,IAAP;AACD,CAJM;;AAMP;;;;;;;;;AASO,IAAMoH,WAAKA,GAAG,SAARA,KAAQ,GAAW;AAC9B,SAAO3I,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQc,SAAR,GAAoB,EAA/B;AAAA,GAAX,CAAP;AACD,CAFM;;AAIP;;;;;;;;AAQO,IAAMgF,YAAMA,GAAG,SAATA,MAAS,GAAW;AAC/B,SAAO5I,IAAIA,CAAC,IAAL,EAAW,mBAAW;AAC3B,QAAG8C,QAAQ2D,UAAX,EAAuB;AACrB3D,cAAQ2D,UAAR,CAAmBoC,WAAnB,CAA+B/F,OAA/B;AACD;AACF,GAJM,CAAP;AAKD,CANM;;AAQP;;;;;;AAMO,IAAMgG,iBAAWA,GAAG,SAAdA,WAAc,GAAW;AACpC,SAAOtC,UAAMA,CAACuC,KAAP,CAAa,IAAb,EAAmBlE,SAAnB,EAA8B+D,MAA9B,EAAP;AACD,CAFM;;AAIP;;;;;;;;;;AAUO,IAAMI,UAAIA,GAAG,SAAPA,IAAO,CAAS/D,KAAT,EAAgB;;AAElC,MAAGA,UAAU9E,SAAb,EAAwB;AACtB,WAAO,KAAK,CAAL,EAAQ8I,WAAf;AACD;;AAED,SAAOjJ,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQmG,WAAR,GAAsB,KAAKhE,KAAtC;AAAA,GAAX,CAAP;AACD,CAPM;;AASP;;;;;;;;;;AAUO,IAAMW,SAAGA,GAAG,SAANA,GAAM,CAASX,KAAT,EAAgB;;AAEjC,MAAGA,UAAU9E,SAAb,EAAwB;AACtB,WAAO,KAAKR,MAAL,GAAc,CAAd,GAAkB,KAAK,CAAL,EAAQsF,KAA1B,GAAkC9E,SAAzC;AACD;;AAED,SAAOH,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQmC,KAAR,GAAgBA,KAA3B;AAAA,GAAX,CAAP;AACD,CAPM,C;;AC5FP;;;;AAIA;;AAEA;;;;;;;;;;;AAWO,IAAM7B,SAAIA,GAAG,SAAPA,IAAO,CAAS8F,QAAT,EAAmB;;AAErC,MAAGA,aAAa/I,SAAhB,EAA2B;AACzB,QAAM2C,UAAU,KAAK1C,QAAL,GAAgB,IAAhB,GAAuB,KAAK,CAAL,CAAvC;AACA,WAAO0C,UAAUA,QAAQc,SAAlB,GAA8BzD,SAArC;AACD;;AAED,SAAOH,IAAIA,CAAC,IAAL,EAAW;AAAA,WAAW8C,QAAQc,SAAR,GAAoBsF,QAA/B;AAAA,GAAX,CAAP;AACD,CARM,C;;ACjBP;;;;AAIA;AACA;;AAEA;;;;;;;;;;;AAWO,IAAMC,eAAOA,GAAI,YAAM;;AAE5B,MAAMA,UAAU,SAAVA,OAAU,CAAS7H,QAAT,EAAmBC,OAAnB,EAA4B;AAC1C,QAAMU,QAAQ,EAAd;AACAjC,QAAIA,CAAC,IAAL,EAAW,gBAAQ;AACjB,aAAMkC,QAAQA,SAASX,OAAvB,EAAgC;AAC9B,YAAGc,OAAOA,CAACH,IAAR,EAAcZ,QAAd,CAAH,EAA4B;AAC1BW,gBAAMG,IAAN,CAAWF,IAAX;AACA;AACD;AACDA,eAAOA,KAAKkH,aAAZ;AACD;AACF,KARD;AASA,WAAOrH,CAACA,CAACnB,IAAIA,CAACqB,KAAL,CAAF,CAAP;AACD,GAZD;;AAcA,SAAO,OAAOK,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQC,SAAR,CAAkB4G,OAArD,GAA+DA,OAA/D,GAAyE,UAAS7H,QAAT,EAAmBC,OAAnB,EAA4B;AAC1G,QAAG,CAACA,OAAJ,EAAa;AACX,UAAMU,QAAQ,EAAd;AACAjC,UAAIA,CAAC,IAAL,EAAW,gBAAQ;AACjB,YAAMqJ,IAAInH,KAAKiH,OAAL,CAAa7H,QAAb,CAAV;AACA,YAAG+H,CAAH,EAAM;AACJpH,gBAAMG,IAAN,CAAWiH,CAAX;AACD;AACF,OALD;AAMA,aAAOtH,CAACA,CAACnB,IAAIA,CAACqB,KAAL,CAAF,CAAP;AACD,KATD,MASO;AACL,aAAOkH,QAAQ9I,IAAR,CAAa,IAAb,EAAmBiB,QAAnB,EAA6BC,OAA7B,CAAP;AACD;AACF,GAbD;AAcD,CA9BsB,EAAhB,C;;AClBP;;;;AAIA;AACA;;AAEA;;;;;;;;;;;;;;;AAeO,IAAM+H,QAAEA,GAAG,SAALA,EAAK,CAASC,UAAT,EAAqBjI,QAArB,EAA+BkI,OAA/B,EAAwCC,UAAxC,EAAoDC,IAApD,EAA0D;AAAA;;AAE1E,MAAG,OAAOpI,QAAP,KAAoB,UAAvB,EAAmC;AACjCkI,cAAUlI,QAAV;AACAA,eAAW,IAAX;AACD;;AAED,MAAIqI,cAAJ;AAAA,MACEC,kBADF;AAAA,MAEEC,sBAFF;;AAIAN,aAAWhC,KAAX,CAAiB,GAAjB,EAAsB9G,OAAtB,CAA8B,qBAAa;;AAEzCkJ,YAAQG,UAAUvC,KAAV,CAAgB,GAAhB,CAAR;AACAuC,gBAAYH,MAAM,CAAN,KAAY,IAAxB;AACAC,gBAAYD,MAAM,CAAN,KAAY,IAAxB;;AAEAE,oBAAgBE,aAAaP,OAAb,CAAhB;;AAEAxJ,QAAIA,CAAC,KAAL,EAAW,mBAAW;;AAEpB,UAAGsB,QAAH,EAAa;AACXuI,wBAAgBG,qBAAeA,CAAC5D,IAAhB,CAAqBtD,OAArB,EAA8BxB,QAA9B,EAAwCuI,aAAxC,CAAhB;AACD;;AAED,UAAGH,IAAH,EAAS;AACP,YAAMO,WAAWJ,aAAjB;AACAA,wBAAgB,8BAAS;AACvBK,mBAAGA,CAAC7J,IAAJ,CAASyC,OAAT,EAAkByG,UAAlB,EAA8BjI,QAA9B,EAAwCkI,OAAxC,EAAiDC,UAAjD;AACAQ,mBAAS5J,IAAT,CAAcyC,OAAd,EAAuBqH,KAAvB;AACD,SAHD;AAID;;AAEDrH,cAAQsH,gBAAR,CAAyBN,SAAzB,EAAoCD,aAApC,EAAmDJ,cAAc,KAAjE;;AAEAY,kBAAYvH,OAAZ,EAAqBV,IAArB,CAA0B;AACxB0H,4BADwB;AAExBN,wBAFwB;AAGxBK,oCAHwB;AAIxBvI,0BAJwB;AAKxBsI;AALwB,OAA1B;AAOD,KAvBD;AAyBD,GAjCD,EAiCG,IAjCH;;AAmCA,SAAO,IAAP;AACD,CA/CM;;AAiDP;;;;;;;;;;;;;;;AAeO,IAAMM,SAAGA,GAAG,SAANA,GAAM,GAAyD;AAAA,MAAhDX,UAAgD,uEAAnC,EAAmC;AAAA,MAA/BjI,QAA+B;;AAAA;;AAAA,MAArBkI,OAAqB;AAAA,MAAZC,UAAY;;;AAE1E,MAAG,OAAOnI,QAAP,KAAoB,UAAvB,EAAmC;AACjCkI,cAAUlI,QAAV;AACAA,eAAW,IAAX;AACD;;AAED,MAAIqI,cAAJ;AAAA,MACEC,kBADF;AAAA,MAEEU,iBAFF;;AAIAf,aAAWhC,KAAX,CAAiB,GAAjB,EAAsB9G,OAAtB,CAA8B,qBAAa;;AAEzCkJ,YAAQG,UAAUvC,KAAV,CAAgB,GAAhB,CAAR;AACAuC,gBAAYH,MAAM,CAAN,KAAY,IAAxB;AACAC,gBAAYD,MAAM,CAAN,KAAY,IAAxB;;AAEA,WAAO3J,IAAIA,CAAC,MAAL,EAAW,mBAAW;;AAE3BsK,iBAAWD,YAAYvH,OAAZ,CAAX;;AAEA9C,UAAIA,CAACsK,SAASzJ,MAAT,CAAgB,gBAAQ;AAC3B,eACE,CAAC,CAACiJ,SAAD,IAAchJ,KAAKgJ,SAAL,KAAmBA,SAAlC,MACC,CAACF,SAAD,IAAc9I,KAAK8I,SAAL,KAAmBA,SADlC,MAEC,CAACJ,OAAD,IAAY1I,KAAK0I,OAAL,KAAiBA,OAF9B,MAGC,CAAClI,QAAD,IAAaR,KAAKQ,QAAL,KAAkBA,QAHhC,CADF;AAMD,OAPI,CAAL,EAOI,gBAAQ;AACVwB,gBAAQyH,mBAAR,CAA4BzJ,KAAKgJ,SAAjC,EAA4ChJ,KAAK+I,aAAjD,EAAgEJ,cAAc,KAA9E;AACAa,iBAASE,MAAT,CAAgBF,SAAStJ,OAAT,CAAiBF,IAAjB,CAAhB,EAAwC,CAAxC;AACD,OAVD;;AAYA,UAAG,CAACgJ,SAAD,IAAc,CAACF,SAAf,IAA4B,CAACtI,QAA7B,IAAyC,CAACkI,OAA7C,EAAsD;AACpDiB,sBAAc3H,OAAd;AACD,OAFD,MAEO,IAAGwH,SAAS3K,MAAT,KAAoB,CAAvB,EAA0B;AAC/B8K,sBAAc3H,OAAd;AACD;AAEF,KAtBM,CAAP;AAwBD,GA9BD,EA8BG,IA9BH;;AAgCA,SAAO,IAAP;AACD,CA5CM;;AA8CP;;;;;;;;;;;;;AAaO,IAAM4H,MAAM,SAANA,GAAM,CAASnB,UAAT,EAAqBjI,QAArB,EAA+BkI,OAA/B,EAAwCC,UAAxC,EAAoD;AACrE,SAAOH,QAAEA,CAACjJ,IAAH,CAAQ,IAAR,EAAckJ,UAAd,EAA0BjI,QAA1B,EAAoCkI,OAApC,EAA6CC,UAA7C,EAAyD,CAAzD,CAAP;AACD,CAFM;;AAIP;;;;;;;;AAQA,IAAMkB,eAAe,qBAArB;AACA,IAAIC,KAAK,CAAT;AACA,IAAIN,cAAQA,GAAG,EAAf;AACA,IAAIO,aAAa,EAAjB;;AAEO,IAAMR,cAAc,SAAdA,WAAc,UAAW;AACpC,MAAG,CAACvH,QAAQ6H,YAAR,CAAJ,EAA2B;AACzB7H,YAAQ6H,YAAR,IAAwBE,WAAWlL,MAAX,KAAsB,CAAtB,GAA0B,EAAEiL,EAA5B,GAAiCC,WAAWzG,GAAX,EAAzD;AACD;AACD,MAAMsB,MAAM5C,QAAQ6H,YAAR,CAAZ;AACA,SAAOL,cAAQA,CAAC5E,GAAT,MAAkB4E,cAAQA,CAAC5E,GAAT,IAAgB,EAAlC,CAAP;AACD,CANM;;AAQP;;;;;;;AAOO,IAAM+E,gBAAgB,SAAhBA,aAAgB,UAAW;AACtC,MAAM/E,MAAM5C,QAAQ6H,YAAR,CAAZ;AACA,MAAGL,cAAQA,CAAC5E,GAAT,CAAH,EAAkB;AAChB4E,kBAAQA,CAAC5E,GAAT,IAAgB,IAAhB;AACA5C,YAAQ6H,YAAR,IAAwB,IAAxB;AACAE,eAAWzI,IAAX,CAAgBsD,GAAhB;AACD;AACF,CAPM;;AASP;;;;;;;;;AASO,IAAMqE,eAAe,SAAfA,YAAe;AAAA,SAAW,UAASI,KAAT,EAAgB;AACrD,WAAOX,QAAQnJ,IAAR,CAAa,IAAb,EAAmByK,aAAaX,KAAb,CAAnB,CAAP;AACD,GAF2B;AAAA,CAArB;;AAIP,IAAMY,eAAe;AACnBC,kBAAgB,oBADG;AAEnBC,4BAA0B,+BAFP;AAGnBC,mBAAiB;AAHE,CAArB;AAKA,IAAMC,aAAa,SAAbA,UAAa;AAAA,SAAM,IAAN;AAAA,CAAnB;AACA,IAAMC,cAAc,SAAdA,WAAc;AAAA,SAAM,KAAN;AAAA,CAApB;;AAEA;;;;;;;;AAQA,IAAMN,eAAe,SAAfA,YAAe,QAAS;AAC5B,MAAG,CAACX,MAAMkB,kBAAP,IAA6BlB,MAAMc,wBAAnC,IAA+Dd,MAAMe,eAAxE,EAAyF;AACvF,SAAI,IAAMI,UAAV,IAAwBP,YAAxB,EAAsC;AACnC,iBAASO,UAAT,EAAqBC,cAArB,EAAqCC,cAArC,EAAqD;AACpDrB,cAAMmB,UAAN,IAAoB,YAAW;AAC7B,eAAKC,cAAL,IAAuBJ,UAAvB;AACA,iBAAOK,kBAAkBA,eAAezC,KAAf,CAAqB,IAArB,EAA2BlE,SAA3B,CAAzB;AACD,SAHD;AAIAsF,cAAMoB,cAAN,IAAwBH,WAAxB;AACD,OANA,EAMCE,UAND,EAMaP,aAAaO,UAAb,CANb,EAMuCnB,MAAMmB,UAAN,CANvC,CAAD;AAOD;AACD,QAAGnB,MAAMsB,eAAT,EAA0B;AACxBtB,YAAMa,cAAN;AACD;AACF;AACD,SAAOb,KAAP;AACD,CAhBD;;AAkBA;;;;;;;;;;;AAWO,IAAMH,qBAAeA,GAAG,SAAlBA,eAAkB,CAAS1I,QAAT,EAAmBkI,OAAnB,EAA4BW,KAA5B,EAAmC;AAChE,MAAMuB,cAAcvB,MAAMwB,OAAN,IAAiBxB,MAAM5J,MAA3C;AACA,MAAMqL,gBAAgBzC,eAAOA,CAAC9I,IAAR,CAAa,CAACqL,WAAD,CAAb,EAA4BpK,QAA5B,EAAsC,IAAtC,EAA4C,CAA5C,CAAtB;AACA,MAAGsK,iBAAiBA,kBAAkB,IAAtC,EAA4C;AAC1C,QAAGA,kBAAkBF,WAAlB,IAAiC,EAAEvB,MAAM0B,oBAAN,IAA8B1B,MAAM0B,oBAAN,EAAhC,CAApC,EAAmG;AACjGrC,cAAQnJ,IAAR,CAAauL,aAAb,EAA4BzB,KAA5B;AACD;AACF;AACF,CARM;;AAUA,IAAM/D,OAAOkD,QAAb;AACA,IAAMwC,SAAS5B,SAAf,C;;AC/PP;;;;AAIA;AACA;;AAEA,IAAM6B,eAAe,sEAArB;AACA,IAAMC,aAAa,sBAAnB;;AAEA;;;;;;;;;;;;;;;AAeO,IAAMC,eAAOA,GAAG,SAAVA,OAAU,CAASC,IAAT,EAAezD,IAAf,EAAuF;AAAA,iFAAJ,EAAI;AAAA,0BAAjE0D,OAAiE;AAAA,MAAjEA,OAAiE,gCAAvD,IAAuD;AAAA,6BAAjDC,UAAiD;AAAA,MAAjDA,UAAiD,mCAApC,IAAoC;AAAA,iCAA9BpB,cAA8B;AAAA,MAA9BA,cAA8B,uCAAb,KAAa;;AAE5G,MAAMqB,mBAAmBC,oBAAoBJ,IAApB,CAAzB;AACA,MAAM/B,QAAQ,IAAIkC,gBAAJ,CAAqBH,IAArB,EAA2B;AACvCC,oBADuC;AAEvCC,0BAFuC;AAGvCpB,kCAHuC;AAIvCuB,YAAQ9D;AAJ+B,GAA3B,CAAd;;AAOA0B,QAAMsB,eAAN,GAAwBT,cAAxB;;AAEA,SAAOhL,IAAIA,CAAC,IAAL,EAAW,mBAAW;AAC3B,QAAG,CAACmM,OAAD,IAAYK,6BAAZ,IAA6CC,4BAAoBA,CAAC3J,OAArB,CAAhD,EAA+E;AAC7E4J,oBAAc5J,OAAd,EAAuBqH,KAAvB;AACD,KAFD,MAEO;AACLwC,qBAAe7J,OAAf,EAAwBoJ,IAAxB,EAA8B;AAC5BC,wBAD4B;AAE5BC,8BAF4B;AAG5BpB,sCAH4B;AAI5BuB,gBAAQ9D;AAJoB,OAA9B;AAMD;AACF,GAXM,CAAP;AAYD,CAxBM;;AA0BP,IAAM6D,sBAAsB,SAAtBA,mBAAsB;AAAA,SAAQM,mCAAoCb,aAAapK,IAAb,CAAkBuK,IAAlB,IAA0BW,UAA1B,GAAwCb,WAAWrK,IAAX,CAAgBuK,IAAhB,IAAwBY,aAAxB,GAAwCC,WAApH,GAAoIA,WAA5I;AAAA,CAA5B;;AAEA;;;;;;;;;;;;;AAaO,IAAMC,iBAAiB,SAAjBA,cAAiB,CAASd,IAAT,EAAezD,IAAf,EAAqB;AACjD,MAAG,KAAK,CAAL,CAAH,EAAY;AACVwD,mBAAOA,CAAC5L,IAAR,CAAa,KAAK,CAAL,CAAb,EAAsB6L,IAAtB,EAA4BzD,IAA5B,EAAkC;AAChC0D,eAAS,KADuB;AAEhCnB,sBAAgB;AAFgB,KAAlC;AAID;AACF,CAPM;;AASP;;;;;;;;AAQA,IAAMyB,4BAAoBA,GAAG,SAAvBA,oBAAuB,UAAW;AACtC,MAAG3J,YAAYrD,MAAZ,IAAsBqD,YAAYtB,QAArC,EAA+C;AAC7C,WAAO,IAAP;AACD;AACD,SAAOsG,QAAQA,CAAChF,QAAQmK,aAAR,CAAsB7E,eAA/B,EAAgDtF,OAAhD,CAAP;AACD,CALD;;AAOA;;;;;;;;;;;;;;AAcA,IAAM6J,iBAAiB,SAAjBA,cAAiB,CAAC7J,OAAD,EAAUoJ,IAAV,EAAgC;AAAA,MAAhBgB,MAAgB,uEAAP,EAAO;;AACrDA,SAAOf,OAAP,GAAiB,KAAjB;AACA,MAAMhC,QAAQ,IAAI4C,WAAJ,CAAgBb,IAAhB,EAAsBgB,MAAtB,CAAd;AACA/C,QAAMwB,OAAN,GAAgB7I,OAAhB;AACA,KAAG;AACD4J,kBAAc5J,OAAd,EAAuBqH,KAAvB;AACD,GAFD,QAEQrH,UAAUA,QAAQ2D,UAF1B,EAJqD,CAMd;AACxC,CAPD;;AASA;;;;;;;;;AASA,IAAM0G,qBAAqB,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,QAA5B,CAA3B;;AAEA,IAAMT,gBAAgB,SAAhBA,aAAgB,CAAC5J,OAAD,EAAUqH,KAAV,EAAoB;AACxC,MAAGgD,mBAAmBnM,OAAnB,CAA2BmJ,MAAM+B,IAAjC,MAA2C,CAAC,CAA5C,IAAiD,OAAOpJ,QAAQqH,MAAM+B,IAAd,CAAP,KAA+B,UAAhF,IAA8F,CAAC/B,MAAMsB,eAArG,IAAwH,CAACtB,MAAMiC,UAAlI,EAA8I;AAC5ItJ,YAAQqH,MAAM+B,IAAd;AACD,GAFD,MAEO;AACLpJ,YAAQ4J,aAAR,CAAsBvC,KAAtB;AACD;AACF,CAND;;AAQA;;;;;AAKA,CAAC,YAAM;AACL,MAAM4C,cAAc,SAAdA,WAAc,CAAS5C,KAAT,EAIjB;AAAA,QAJiC+C,MAIjC,uEAJ0C;AAC3Cf,eAAS,KADkC;AAE3CC,kBAAY,KAF+B;AAG3CG,cAAQpM;AAHmC,KAI1C;;AACD,QAAIiN,cAAc5L,SAAS6L,WAAT,CAAqB,aAArB,CAAlB;AACAD,gBAAYE,eAAZ,CAA4BnD,KAA5B,EAAmC+C,OAAOf,OAA1C,EAAmDe,OAAOd,UAA1D,EAAsEc,OAAOX,MAA7E;AACA,WAAOa,WAAP;AACD,GARD;;AAUAL,cAAYxK,SAAZ,GAAwB/C,GAAGA,CAACuN,WAAJ,IAAmBvN,GAAGA,CAACuN,WAAJ,CAAgBxK,SAA3D;AACA/C,KAAGA,CAACuN,WAAJ,GAAkBA,WAAlB;AAED,CAdD;;AAgBA;;;;;AAKA,IAAMP,gCAAiC,YAAK;AAC1C,MAAIe,aAAa,KAAjB;AACA,MAAMC,MAAMhO,GAAGA,CAACgC,QAAhB;AACA,MAAGgM,GAAH,EAAQ;AACN,QAAMC,SAASD,IAAInK,aAAJ,CAAkB,KAAlB,CAAf;AACA,QAAMlB,QAAQsL,OAAO3G,SAAP,EAAd;AACA2G,WAAOvH,WAAP,CAAmB/D,KAAnB;AACAsL,WAAOrD,gBAAP,CAAwB,GAAxB,EAA6B,YAAW;AACtCmD,mBAAa,IAAb;AACD,KAFD;AAGApL,UAAMuK,aAAN,CAAoB,IAAIK,WAAJ,CAAgB,GAAhB,EAAqB,EAACZ,SAAS,IAAV,EAArB,CAApB;AACD;AACD,SAAOoB,UAAP;AACD,CAbqC,EAAtC;;AAeA,IAAMX,mCAAoC,YAAM;AAC9C,MAAI;AACF,QAAIC,UAAJ,CAAe,OAAf;AACD,GAFD,CAEE,OAAMa,CAAN,EAAS;AACT,WAAO,KAAP;AACD;AACD,SAAO,IAAP;AACD,CAPwC,EAAzC,C;;AC7KA;;;;AAIA;;;;;;;;;;AAUO,IAAMC,QAAQ,SAARA,KAAQ,CAASnE,OAAT,EAAkB;AACrC,MAAG,8BAA8B7H,IAA9B,CAAmCH,SAASoM,UAA5C,KAA2DpM,SAASqM,IAAvE,EAA6E;AAC3ErE;AACD,GAFD,MAEO;AACLhI,aAAS4I,gBAAT,CAA0B,kBAA1B,EAA8CZ,OAA9C,EAAuD,KAAvD;AACD;AACD,SAAO,IAAP;AACD,CAPM,C;;ACdP;;;;AAIA;;AAEA;;;;;AAKA,IAAMsE,cAActO,GAAGA,CAACuC,CAAxB;;AAEA;;;;;;;;;AASO,IAAMgM,qBAAUA,GAAG,SAAbA,UAAa,GAAW;AACnCvO,KAAGA,CAACuC,CAAJ,GAAQ+L,WAAR;AACA,SAAO,IAAP;AACD,CAHM,C;;ACtBP;;;;AAIA;AACA;;AAEA;;;;;;;;;;;AAWO,IAAMpK,cAAQA,GAAG,SAAXA,QAAW,CAASpC,QAAT,EAAmB;AACzC,MAAMW,QAAQ,EAAd;AACAjC,MAAIA,CAAC,IAAL,EAAW,mBAAW;AACpB,QAAG8C,QAAQY,QAAX,EAAqB;AACnB1D,UAAIA,CAAC8C,QAAQY,QAAb,EAAuB,iBAAS;AAC9B,YAAG,CAACpC,QAAD,IAAcA,YAAYe,OAAOA,CAACF,KAAR,EAAeb,QAAf,CAA7B,EAAwD;AACtDW,gBAAMG,IAAN,CAAWD,KAAX;AACD;AACF,OAJD;AAKD;AACF,GARD;AASA,SAAOJ,CAACA,CAACE,KAAF,CAAP;AACD,CAZM;;AAcP;;;;;;;;;;;AAWO,IAAM+L,YAAMA,GAAG,SAATA,MAAS,CAAS1M,QAAT,EAAmB;AAAA;;AACvCtB,MAAIA,CAAC+B,CAACA,CAACT,QAAF,CAAL,EAAkB,mBAAW;AAC3B,QAAG,GAAGN,OAAH,CAAWX,IAAX,CAAgB,KAAhB,EAAsByC,OAAtB,MAAmC,CAAC,CAAvC,EAA0C;AACxC,SAAGV,IAAH,CAAQ/B,IAAR,CAAa,KAAb,EAAmByC,OAAnB;AACD;AACF,GAJD;AAKA,SAAO,IAAP;AACD,CAPM;;AASP;;;;;;;;AAQO,IAAMmL,cAAQA,GAAG,SAAXA,QAAW,GAAW;AACjC,MAAMhM,QAAQ,EAAd;AACAjC,MAAIA,CAAC,IAAL,EAAW;AAAA,WAAWiC,MAAMG,IAAN,CAAW2G,KAAX,CAAiB9G,KAAjB,EAAwBvC,OAAOA,CAACoD,QAAQa,UAAhB,CAAxB,CAAX;AAAA,GAAX;AACA,SAAO5B,CAACA,CAACE,KAAF,CAAP;AACD,CAJM;;AAMP;;;;;;;;;;;AAWO,IAAMiM,KAAK,SAALA,EAAK,CAASnN,KAAT,EAAgB;AAChC,SAAOkC,WAAKA,CAAC5C,IAAN,CAAW,IAAX,EAAiBU,KAAjB,EAAwBA,QAAQ,CAAhC,CAAP;AACD,CAFM;;AAIP;;;;;;;;;;AAUO,IAAMoN,QAAQ,SAARA,KAAQ,GAAW;AAC9B,SAAOlL,WAAKA,CAAC5C,IAAN,CAAW,IAAX,EAAiB,CAAjB,EAAoB,CAApB,CAAP;AACD,CAFM;;AAIP;;;;;;;;;;AAUO,IAAM+N,SAAGA,GAAG,SAANA,GAAM,CAASrN,KAAT,EAAgB;AACjC,SAAO,KAAKA,KAAL,CAAP;AACD,CAFM;;AAIP;;;;;;;;;;;AAWO,IAAM0M,YAAMA,GAAG,SAATA,MAAS,CAASnM,QAAT,EAAmB;AACvC,MAAMW,QAAQ,EAAd;AACAjC,MAAIA,CAAC,IAAL,EAAW,mBAAW;AACpB,QAAG,CAACsB,QAAD,IAAcA,YAAYe,OAAOA,CAACS,QAAQ2D,UAAhB,EAA4BnF,QAA5B,CAA7B,EAAqE;AACnEW,YAAMG,IAAN,CAAWU,QAAQ2D,UAAnB;AACD;AACF,GAJD;AAKA,SAAO1E,CAACA,CAACE,KAAF,CAAP;AACD,CARM;;AAUP;;;;;;;;;;;AAWO,IAAMoM,cAAQA,GAAG,SAAXA,QAAW,CAAS/M,QAAT,EAAmB;AACzC,MAAMW,QAAQ,EAAd;AACAjC,MAAIA,CAAC,IAAL,EAAW;AAAA,WAAWA,IAAIA,CAAC8C,QAAQ2D,UAAR,CAAmB/C,QAAxB,EAAkC,mBAAW;AACjE,UAAG4K,YAAYxL,OAAZ,KAAwB,CAACxB,QAAD,IAAcA,YAAYe,OAAOA,CAACiM,OAAR,EAAiBhN,QAAjB,CAAlD,CAAH,EAAmF;AACjFW,cAAMG,IAAN,CAAWkM,OAAX;AACD;AACF,KAJqB,CAAX;AAAA,GAAX;AAKA,SAAOvM,CAACA,CAACE,KAAF,CAAP;AACD,CARM;;AAUP;;;;;;;;;;;AAWO,IAAMgB,WAAKA,GAAG,SAARA,KAAQ,CAASsL,KAAT,EAAgBC,GAAhB,EAAqB;AAAE;AAC1C,SAAOzM,CAACA,CAAC,GAAGkB,KAAH,CAAS8F,KAAT,CAAe,IAAf,EAAqBlE,SAArB,CAAF,CAAP;AACD,CAFM,C;;AClKP;;;;AAIA;;;;;;;;;;;AAWO,IAAM4J,aAAa,SAAbA,UAAa;AAAA,SAAO,OAAOC,GAAP,KAAe,UAAtB;AAAA,CAAnB;;AAEP;;;;;;;;;;;AAWO,IAAMC,UAAU7O,MAAM6O,OAAtB,C;;AC5BP;;;;AAIA;;AAEA,IAAMhK,OAAGA,GAAG,EAAZ;AACA,IAAI5C,KAACA,GAAG,EAAR;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG,OAAOT,wBAAP,KAAoB,WAAvB,EAAoC;AAClCS,OAACA,GAAGT,CAAJ;AACAS,OAACA,CAACM,OAAF,GAAYf,OAAZ;AACAqD,SAAGA,CAAC3C,IAAJ,GAAWV,aAAX;AACD;;AAEDhB,MAAMA,CAACyB,KAAP,EAAU6M,wBAAV,EAAwBC,0BAAxB,EAAoC3C,oBAApC;AACA5L,MAAMA,CAACqE,OAAP,EAAYmK,qBAAZ,EAAmBrJ,mBAAnB,EAAwBsJ,oBAAxB,EAAkCC,mBAAlC,EAAuCC,qBAAvC,EAAkDC,oBAAlD,EAA4DC,qBAA5D,EAAuEC,oBAAvE,EAAiFjF,qBAAjF,EAAwFkF,uBAAxF,EAAuGC,qBAAvG,EAAoHC,uBAApH,EAAsIC,8BAAtI;;AAEAzN,KAACA,CAAC+B,EAAF,GAAOa,OAAP;;AAEA;;AAEA5C,KAACA,CAAC0N,OAAF,GAAY,aAAZ;;AAEA;;AAEA1N,KAACA,CAACzB,MAAF,GAAWA,MAAX;;AAEA;;AAEA,IAAG,OAAOsE,SAAP,KAAqB,WAAxB,EAAqC;AACnC7C,OAACA,CAAC6C,SAAF,GAAcA,SAASA,CAAC7C,KAACA,CAAC+B,EAAZ,CAAd;AACD;;AAED;;AAEe/B,6CAAf,E;;;;;;ICzDqB2N,O;;;;;;;2BA2BZC,I,EAAM1K,K,EAAqB;AAAA,UAAd2K,OAAc,uEAAJ,EAAI;;AAChC,UAAItH,MAASoH,QAAQG,MAAR,CAAeF,IAAf,CAAT,SAAiCD,QAAQG,MAAR,CAAe5K,KAAf,CAArC;;AAEA,UAAIA,SAAS,IAAb,EAAmB;AAAC2K,gBAAQE,MAAR,GAAiB,CAAC,CAAlB;AAAoB;;AAExC,UAAIF,QAAQE,MAAZ,EAAoB;AAClB,YAAIC,OAAO,IAAIC,IAAJ,EAAX;AACAD,aAAKE,OAAL,CAAaF,KAAKG,OAAL,KAAgBN,QAAQE,MAArC;AACAF,gBAAQO,OAAR,GAAkBJ,KAAKK,WAAL,EAAlB;AACA;AACD;;AAED,UAAIR,QAAQS,IAAZ,EAAkB;AAAC/H,eAAO,YAAYsH,QAAQS,IAA3B;AAAgC;AACnD,UAAIT,QAAQU,MAAZ,EAAoB;AAAChI,eAAO,cAAcsH,QAAQU,MAA7B;AAAoC;AACzD,UAAIV,QAAQO,OAAZ,EAAqB;AAAC7H,eAAO,eAAesH,QAAQO,OAA9B;AAAuC;AAC7D,UAAIP,QAAQW,MAAZ,EAAoB;AAACjI,eAAO,UAAP;AAAkB;;AAEvC9G,eAASgP,MAAT,GAAkBlI,GAAlB;AACD;;;wBAWGqH,I,EAAM;AACR,UAAIc,UAAUf,QAAQgB,KAAR,CAAclP,SAASgP,MAAvB,CAAd;AACA,UAAGb,IAAH,EAAS;AACP,eAAOc,QAAQd,IAAR,KAAiB,IAAxB;AACD,OAFD,MAEO;AACL,eAAOc,OAAP;AACD;AACF;;;0BAxDYd,I,EAAM1K,K,EAAqB;AAAA,UAAd2K,OAAc,uEAAJ,EAAI;;AACtC,UAAItH,MAAS,KAAKuH,MAAL,CAAYF,IAAZ,CAAT,SAA8B,KAAKE,MAAL,CAAY5K,KAAZ,CAAlC;;AAEA,UAAIA,SAAS,IAAb,EAAmB;AAAC2K,gBAAQE,MAAR,GAAiB,CAAC,CAAlB;AAAoB;;AAExC,UAAIF,QAAQE,MAAZ,EAAoB;AAClB,YAAIC,OAAO,IAAIC,IAAJ,EAAX;AACAD,aAAKE,OAAL,CAAaF,KAAKG,OAAL,KAAgBN,QAAQE,MAArC;AACAF,gBAAQO,OAAR,GAAkBJ,KAAKK,WAAL,EAAlB;AACA;AACD;;AAED,UAAIR,QAAQS,IAAZ,EAAkB;AAAC/H,eAAO,YAAYsH,QAAQS,IAA3B;AAAgC;AACnD,UAAIT,QAAQU,MAAZ,EAAoB;AAAChI,eAAO,cAAcsH,QAAQU,MAA7B;AAAoC;AACzD,UAAIV,QAAQO,OAAZ,EAAqB;AAAC7H,eAAO,eAAesH,QAAQO,OAA9B;AAAuC;AAC7D,UAAIP,QAAQW,MAAZ,EAAoB;AAACjI,eAAO,UAAP;AAAkB;;AAEvC9G,eAASgP,MAAT,GAAkBlI,GAAlB;AACD;;;yBAsBWqH,I,EAAM;AAChB,UAAIc,UAAU,KAAKC,KAAL,CAAWlP,SAASgP,MAApB,CAAd;AACA,UAAGb,IAAH,EAAS;AACP,eAAOc,QAAQd,IAAR,KAAiB,IAAxB;AACD,OAFD,MAEO;AACL,eAAOc,OAAP;AACD;AACF;;;4BAWad,I,EAAM;AAClB,UAAGA,IAAH,EAAS;AACP,aAAKgB,KAAL,CAAWhB,IAAX,EAAiB,IAAjB;AACD,OAFD,MAEO;AACL,YAAIc,UAAU,KAAKG,IAAL,EAAd;AACA,aAAI,IAAIlL,GAAR,IAAe+K,OAAf,EAAwB;AACtB,cAAGA,QAAQI,cAAR,CAAuBnL,GAAvB,CAAH,EAA+B;AAC7B,iBAAKiL,KAAL,CAAWjL,GAAX,EAAgB,IAAhB;AACD;AACF;AAEF;AACF;;;0BAEW4C,G,EAAK;AACf,UAAIoG,MAAM,EAAV;AAAA,UACEoC,QAAQxI,IAAIf,KAAJ,CAAU,OAAV,CADV;;AAGA,UAAI,CAACuJ,MAAM,CAAN,CAAL,EAAe;AAAC,eAAOpC,GAAP;AAAW;;AAJZ;AAAA;AAAA;;AAAA;AAMf,6BAAiBoC,KAAjB,8HAAwB;AAAA,cAAfC,IAAe;;AACtBA,iBAAOA,KAAKxJ,KAAL,CAAW,GAAX,CAAP;AACAmH,cAAI,KAAKsC,MAAL,CAAYD,KAAK,CAAL,CAAZ,CAAJ,IAA4B,KAAKC,MAAL,CAAYD,KAAK,CAAL,CAAZ,CAA5B;AACD;AATc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUf,aAAOrC,GAAP;AACD;;;2BAGazJ,K,EAAM;AAClB,UAAI;AACF,eAAOgM,mBAAmBhM,KAAnB,CAAP;AACD,OAFD,CAEE,OAAOyI,CAAP,EAAU;AACV,eAAO,IAAP;AACD;AACF;;;2BAEazI,K,EAAO;AACnB,UAAI;AACF,eAAOiM,mBAAmBjM,KAAnB,CAAP;AACD,OAFD,CAEE,OAAOyI,CAAP,EAAU;AACV,eAAO,IAAP;AACD;AACF;;;wBAzGuB;AACpB,UAAIyD,SAAU,MAAM,EAAN,GAAW,EAAX,GAAgB,EAAhB,GAAqB,IAAnC,CADoB,CACqB;AACzC,aAAOA,MAAP;AACH;;;;;;AALkBzB,mD;;ACAR;;;;;;AACb;AACA;;IAEqB0B,gC;AAEnB,8BAA0B;AAAA,QAAdxB,OAAc,uEAAJ,EAAI;;AAAA;;AACxB,SAAKyB,MAAL,GAAczB,QAAQyB,MAAR,IAAkB,KAAhC;AACA,SAAKxD,IAAL,GAAY+B,QAAQ/B,IAAR,IAAgB,EAA5B;AACA,SAAKyD,MAAL,GAAc1B,QAAQ0B,MAAR,IAAkB,KAAhC;AACA,SAAKC,UAAL,GAAkB,CAAC,CAAC3B,QAAQ2B,UAA5B,CAJwB,CAIgB;AACxC,SAAKC,SAAL,GAAiB5B,QAAQ4B,SAAR,IAAqB,IAAtC,CALwB,CAKoB;AAC5C,SAAKC,OAAL,GAAe7B,QAAQ6B,OAAR,IAAmB,IAAlC,CANwB,CAMgB;AACxC,SAAKC,UAAL,GAAmB9B,QAAQ8B,UAAR,IAAsB,KAAzC,CAPwB,CAOwB;AAChD,SAAKC,aAAL,GAAqB,CAAC,CAAC/B,QAAQ+B,aAA/B,CARwB,CAQsB;AAC9C,SAAKC,MAAL,GAAchC,QAAQgC,MAAR,IAAkB,EAAhC;AACA,SAAKC,OAAL,GAAe,EAAf;AACF;AACC;;;;4CAyEuBC,U,EAAY;AAClC,UAAIC,OAAOvQ,SAAS6B,aAAT,CAAuB,KAAvB,CAAX;AACA0O,WAAKnO,SAAL,GAAiBkO,WAAWE,IAAX,EAAjB;AACA,aAAOD,KAAKxL,UAAZ;AACD;;;2BAEM;AAAA;;AACL,WAAK0L,OAAL,GAAe,KAAKC,uBAAL,CAA6B,KAAKJ,UAAlC,CAAf;AACA,WAAKD,OAAL,GAAeM,GAAUA,CAAC,KAAKF,OAAhB,CAAf;AACA,UAAI,OAAO,KAAKP,UAAZ,IAA0B,QAA9B,EAAwC;AACtC,YAAI,KAAKF,SAAL,IAAkB,IAAlB,IAA0B,KAAKC,OAAL,IAAgB,IAA9C,EAAoD;AAClD,cAAI,KAAKW,eAAL,CAAqB,KAAKZ,SAA1B,EAAqC,KAAKC,OAA1C,CAAJ,EAAwD;AACtDU,eAAUA,CAAC,MAAX,EAAmBpM,MAAnB,CAA0B,KAAK8L,OAA/B;AACD;AACF,SAJD,MAIO;AACLM,aAAUA,CAAC,MAAX,EAAmBpM,MAAnB,CAA0B,KAAK8L,OAA/B;AACD;AACF,OARD,MAQO;AACLQ,gBAAQC,KAAR,CAAc,qDAAd;AACD;AACDH,SAAUA,CAACA,GAAUA,CAAC,KAAKN,OAAhB,EAAyB7P,IAAzB,CAA8B,uBAA9B,CAAX,EAAmEsH,EAAnE,CAAsE,OAAtE,EAA+E,YAAM;AACnF,cAAKiJ,IAAL;AACD,OAFD;AAGAJ,SAAUA,CAACA,GAAUA,CAAC,KAAKN,OAAhB,EAAyB7P,IAAzB,CAA8B,sBAA9B,CAAX,EAAkEsH,EAAlE,CAAqE,OAArE,EAA8E,YAAM;AAClF,cAAKkJ,IAAL;AACD,OAFD;AAGD;;;sCAEiD;AAAA,UAAlChB,SAAkC,uEAAtB,IAAsB;AAAA,UAAhBC,OAAgB,uEAAN,IAAM;;AAChD,UAAID,aAAa,IAAb,IAAqBC,WAAW,IAApC,EAA0C;AACxC,YAAIgB,aAAa,IAAIzC,IAAJ,CAASwB,SAAT,CAAjB;AACA,YAAIkB,WAAW,IAAI1C,IAAJ,CAASyB,OAAT,CAAf;AACA,YAAIkB,QAAQ,IAAI3C,IAAJ,EAAZ;AACA,YAAI2C,SAASF,UAAT,IAAuBE,SAASD,QAApC,EAA8C;AAC5C,iBAAO,IAAP;AACD,SAFD,MAEO;AACL,iBAAO,KAAP;AACD;AACF,OATD,MASO;AACL,eAAO,KAAP;AACD;AACF;;;2BAEM;AACL,UAAIE,iBAAiB,KAAKf,OAAL,CAAa7P,IAAb,CAAkB,sBAAlB,CAArB;AACA,UAAI6Q,UAAiB,KAAKhB,OAAL,CAAa7P,IAAb,CAAkB,sBAAlB,CAArB;;AAEA4Q,qBAAenL,WAAf,CAA2B,2BAA3B;AACAoL,cAAQpL,WAAR,CAAoB,2BAApB;AACA,UAAI,KAAKkK,aAAT,EAAwB;AACtBjC,eAAOA,CAACiB,KAAR,CAAc,QAAQ,KAAKe,UAA3B,EAAuC,MAAvC,EAA+C,EAAC,QAAO,GAAR,EAA/C;AACD;AACF;;;2BAEM;AACL,UAAIkB,iBAAiB,KAAKf,OAAL,CAAa7P,IAAb,CAAkB,sBAAlB,CAArB;AACA,UAAI6Q,UAAiB,KAAKhB,OAAL,CAAa7P,IAAb,CAAkB,sBAAlB,CAArB;;AAEA4Q,qBAAenL,WAAf,CAA2B,2BAA3B;AACAoL,cAAQpL,WAAR,CAAoB,2BAApB;AACA,UAAI,KAAKkK,aAAT,EAAwB;AACtBjC,eAAOA,CAACiB,KAAR,CAAc,QAAQ,KAAKe,UAA3B,EAAuC,MAAvC,EAA+C,EAAC,QAAO,GAAR,EAA/C;AACD;AACF;;;wBAtIY;AACX,aAAO,KAAKoB,OAAZ;AACD,K;sBACU7N,K,EAAO;AAChB,WAAK6N,OAAL,GAAe7N,KAAf;AACD;;;wBACU;AACT,aAAO,KAAK8N,KAAZ;AACD,K;sBACQ9N,K,EAAO;AACd,WAAK8N,KAAL,GAAa9N,KAAb;AACD;;;wBACY;AACX,aAAO,KAAK+N,OAAZ;AACD,K;sBACU/N,K,EAAO;AAChB,WAAK+N,OAAL,GAAe/N,KAAf;AACD;;;wBAEgB;AACf,UAAIgO,YAAY,EAAhB;AACA,UAAIC,YAAY,EAAhB;AACA,UAAIC,UAAU,EAAd;AACA,UAAI,KAAK5B,UAAT,EAAqB;AACnB,YAAI7B,OAAOA,CAACkB,IAAR,CAAa,QAAQ,KAAKc,UAA1B,CAAJ,EAA2C;AACzC,cAAIhC,OAAOA,CAACkB,IAAR,CAAa,QAAQ,KAAKc,UAA1B,KAAyC,MAA7C,EAAqD;AACnDuB,wBAAY,4BAAZ;AACAC,wBAAY,EAAZ;AACD,WAHD,MAGO;AACLD,wBAAY,EAAZ;AACAC,wBAAY,4BAAZ;AACD;AACF,SARD,MAQO;AACL,cAAI,KAAKvB,aAAT,EAAwB;AACtBjC,mBAAOA,CAACiB,KAAR,CAAc,QAAQ,KAAKe,UAA3B,EAAuC,MAAvC,EAA+C,EAAC,QAAO,GAAR,EAA/C;AACAuB,wBAAY,4BAAZ;AACD,WAHD,MAGO;AACLA,wBAAY,4BAAZ;AACD;AACF;AACF,OAjBD,MAiBO;AACL,YAAIvD,OAAOA,CAACkB,IAAR,CAAa,QAAQ,KAAKc,UAA1B,KAAyC,MAA7C,EAAqD;AACnDwB,sBAAY,EAAZ;AACAD,sBAAY,4BAAZ;AACD,SAHD,MAGK;AACHC,sBAAY,4BAAZ;AACAD,sBAAY,EAAZ;AACD;AACF;AACD,UAAI,KAAKG,eAAT,EAA0B;AACxBD,sDAA2C,KAAKC,eAAhD;AACD;AACD,4CAAoC,KAAK1B,UAAzC,wBACU,KAAKE,MADf,uDAE2CqB,SAF3C,gGAIY,KAAK5B,MAAL,8DACC,KAAKA,MADN,kCAJZ,2DAO6C8B,OAP7C,6BAQe,KAAKtF,IARpB,mDAUc,KAAKyD,MAAL,+DACE,KAAKA,MADP,mCAVd,gDAcY,KAAKM,MAAL,GAAc,SAAd,GAAyB,EAdrC,0DAe2CsB,SAf3C;AAiBD;;;;;;AArFkB9B,oF;;ACJrB;AACA;;AAGA,IAAIiC,WAAW5T,OAAO4T,QAAP,IAAmB,EAAlC;;AAEAA,SAASC,aAAT,GAA0BlC,eAA1B;AACAiC,SAAS3D,OAAT,GAAoBA,OAApB;;AAEAjQ,OAAO4T,QAAP,GAAkBA,QAAlB,C","file":"tt-plugin.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/*\n * @module Util\n */\n\n/*\n * Reference to the window object\n * @private\n */\n\nexport const win = typeof window !== 'undefined' ? window : {};\n\n/**\n * Convert `NodeList` to `Array`.\n *\n * @param {NodeList|Array} collection\n * @return {Array}\n * @private\n */\n\nexport const toArray = collection => {\n  const length = collection.length;\n  const result = new Array(length);\n  for(let i = 0; i < length; i++) {\n    result[i] = collection[i];\n  }\n  return result;\n};\n\n/**\n * Faster alternative to [].forEach method\n *\n * @param {Node|NodeList|Array} collection\n * @param {Function} callback\n * @return {Node|NodeList|Array}\n * @private\n */\n\nexport const each = (collection, callback, thisArg) => {\n  const length = collection.length;\n  if(length !== undefined && collection.nodeType === undefined) {\n    for(let i = 0; i < length; i++) {\n      callback.call(thisArg, collection[i], i, collection);\n    }\n  } else {\n    callback.call(thisArg, collection, 0, collection);\n  }\n  return collection;\n};\n\n/**\n * Assign enumerable properties from source object(s) to target object\n *\n * @method extend\n * @param {Object} target Object to extend\n * @param {Object} [source] Object to extend from\n * @return {Object} Extended object\n * @example\n *     $.extend({a: 1}, {b: 2}); // {a: 1, b: 2}\n * @example\n *     $.extend({a: 1}, {b: 2}, {a: 3}); // {a: 3, b: 2}\n */\n\nexport const extend = (target, ...sources) => {\n  sources.forEach(src => {\n    for(let prop in src) {\n      target[prop] = src[prop];\n    }\n  });\n  return target;\n};\n\n/**\n * Return the collection without duplicates\n *\n * @param collection Collection to remove duplicates from\n * @return {Node|NodeList|Array}\n * @private\n */\n\nexport const uniq = collection => collection.filter((item, index) => collection.indexOf(item) === index);\n","/**\n * @module Selector\n */\n\nimport { win, each } from '../util';\n\nlet isPrototypeSet = false;\n\nconst reFragment = /^\\s*<(\\w+|!)[^>]*>/;\nconst reSingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;\nconst reSimpleSelector = /^[.#]?[\\w-]*$/;\n\n/*\n * Versatile wrapper for `querySelectorAll`.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @param {String|Node|NodeList} context=document The context for the selector to query elements.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     var $items = $(.items');\n * @example\n *     var $element = $(domElement);\n * @example\n *     var $list = $(nodeList, document.body);\n * @example\n *     var $element = $('<p>evergreen</p>');\n */\n\nconst domtastic = function domtastic(selector, context = document) {\n\n  let collection;\n\n  if(!selector) {\n\n    collection = document.querySelectorAll(null);\n\n  } else if(selector instanceof DOMtastic) {\n\n    return selector;\n\n  } else if(typeof selector !== 'string') {\n\n    collection = selector.nodeType || selector === window ? [selector] : selector;\n\n  } else if(reFragment.test(selector)) {\n\n    collection = createFragment(selector);\n\n  } else {\n\n    context = typeof context === 'string' ? document.querySelector(context) : context.length ? context[0] : context;\n\n    collection = querySelector(selector, context);\n\n  }\n\n  return wrap(collection);\n\n};\n\nexport const $ = domtastic;\n\n/*\n * Find descendants matching the provided `selector` for each element in the collection.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @return {Object} The wrapped collection\n * @example\n *     $('.selector').find('.deep').$('.deepest');\n */\n\nexport const find = function(selector) {\n  const nodes = [];\n  each(this, node => each(querySelector(selector, node), child => {\n    if(nodes.indexOf(child) === -1) {\n      nodes.push(child);\n    }\n  }));\n  return $(nodes);\n};\n\n/*\n * Returns `true` if the element would be selected by the specified selector string; otherwise, returns `false`.\n *\n * @param {Node} element Element to test\n * @param {String} selector Selector to match against element\n * @return {Boolean}\n *\n * @example\n *     $.matches(element, '.match');\n */\n\nexport const matches = (() => {\n  const context = typeof Element !== 'undefined' ? Element.prototype : win;\n  const _matches = context.matches || context.matchesSelector || context.mozMatchesSelector || context.msMatchesSelector || context.oMatchesSelector || context.webkitMatchesSelector;\n  return (element, selector) => _matches.call(element, selector);\n})();\n\n/*\n * Use the faster `getElementById`, `getElementsByClassName` or `getElementsByTagName` over `querySelectorAll` if possible.\n *\n * @private\n * @param {String} selector Query selector.\n * @param {Node} context The context for the selector to query elements.\n * @return {Object} NodeList, HTMLCollection, or Array of matching elements (depending on method used).\n */\n\nconst querySelector = (selector, context) => {\n\n  const isSimpleSelector = reSimpleSelector.test(selector);\n\n  if(isSimpleSelector) {\n    if(selector[0] === '#') {\n      const element = (context.getElementById ? context : document).getElementById(selector.slice(1));\n      return element ? [element] : [];\n    }\n    if(selector[0] === '.') {\n      return context.getElementsByClassName(selector.slice(1));\n    }\n    return context.getElementsByTagName(selector);\n  }\n\n  return context.querySelectorAll(selector);\n\n};\n\n/*\n * Create DOM fragment from an HTML string\n *\n * @private\n * @param {String} html String representing HTML.\n * @return {NodeList}\n */\n\nconst createFragment = html => {\n\n  if(reSingleTag.test(html)) {\n    return [document.createElement(RegExp.$1)];\n  }\n\n  const elements = [];\n  const container = document.createElement('div');\n  const children = container.childNodes;\n\n  container.innerHTML = html;\n\n  for(let i = 0, l = children.length; i < l; i++) {\n    elements.push(children[i]);\n  }\n\n  return elements;\n};\n\n/*\n * Calling `$(selector)` returns a wrapped collection of elements.\n *\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n * @return Object) The wrapped collection\n */\n\nconst wrap = collection => {\n\n  if(!isPrototypeSet) {\n    DOMtastic.prototype = $.fn;\n    DOMtastic.prototype.constructor = DOMtastic;\n    isPrototypeSet = true;\n  }\n\n  return new DOMtastic(collection);\n};\n\n/*\n * Constructor for the Object.prototype strategy\n *\n * @constructor\n * @private\n * @param {NodeList|Array} collection Element(s) to wrap.\n */\n\nexport const DOMtastic = function DOMtastic(collection) {\n  let i = 0;\n  const length = collection.length;\n  for(; i < length;) {\n    this[i] = collection[i++];\n  }\n  this.length = length;\n};\n","/**\n * @module Array\n */\n\nimport { each as _each, toArray } from './util';\nimport { $, matches } from './selector/index';\n\nconst ArrayProto = Array.prototype;\n\n/**\n * Checks if the given callback returns a true(-ish) value for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Boolean} Whether each element passed the callback check.\n * @example\n *     // Test whether every element in the collection has the \"active\" attribute\n *     $('.items').every(function(element) {\n *         return element.hasAttribute('active')\n *     });\n */\n\nexport const every = ArrayProto.every;\n\n/**\n * Filter the collection by selector or function, and return a new collection with the result.\n *\n * @param {String|Function} selector Selector or function to filter the collection.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} A new wrapped collection\n * @chainable\n * @example\n *     $('.items').filter('.active');\n * @example\n *     $('.items').filter(function(element) {\n *         return element.hasAttribute('active')\n *     });\n */\n\nexport const filter = function(selector, thisArg) {\n  const callback = typeof selector === 'function' ? selector : element => matches(element, selector);\n  return $(ArrayProto.filter.call(this, callback, thisArg));\n};\n\n/**\n * Execute a function for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').forEach(function(element) {\n *         element.style.color = 'evergreen';\n *     );\n */\n\nexport const forEach = function(callback, thisArg) {\n  return _each(this, callback, thisArg);\n};\n\nexport const each = forEach;\n\n/**\n * Returns the index of an element in the collection.\n *\n * @param {Node} element\n * @return {Number} The zero-based index, -1 if not found.\n * @example\n *     $('.items').indexOf(element); // 2\n */\n\nexport const indexOf = ArrayProto.indexOf;\n\n/**\n * Create a new collection by executing the callback for each element in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @param {Object} [thisArg] Value to use as `this` when executing `callback`.\n * @return {Array} Collection with the return value of the executed callback for each element.\n * @example\n *     // Create a new array with the attribute value of each element:\n *     $('.items').map(function(element) {\n *         return element.getAttribute('name')\n */\n\nexport const map = ArrayProto.map;\n\n/**\n * Removes the last element from the collection, and returns that element.\n *\n * @return {Object} The last element from the collection.\n * @example\n *     var lastElement = $('.items').pop();\n */\n\nexport const pop = ArrayProto.pop;\n\n/**\n * Adds one or more elements to the end of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').push(element);\n */\n\nexport const push = ArrayProto.push;\n\n/**\n * Apply a function against each element in the collection, and this accumulator function has to reduce it\n * to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     // Calculate the combined height of elements:\n *     $('.items').reduce(function(previousValue, element, index, collection) {\n *         return previousValue + element.clientHeight;\n *     }, 0);\n */\n\nexport const reduce = ArrayProto.reduce;\n\n/**\n * Apply a function against each element in the collection (from right-to-left), and this accumulator function has\n * to reduce it to a single value.\n *\n * @param {Function} callback Function to execute on each value in the array, taking four arguments (see example).\n * @param {Mixed} initialValue Object to use as the first argument to the first call of the callback.\n * @example\n *     // Concatenate the text of elements in reversed order:\n *     $('.items').reduceRight(function(previousValue, element, index, collection) {\n *         return previousValue + element.textContent;\n *     }, '');\n */\n\nexport const reduceRight = ArrayProto.reduceRight;\n\n/**\n * Reverses an array in place. The first array element becomes the last and the last becomes the first.\n *\n * @return {Object} The wrapped collection, reversed\n * @chainable\n * @example\n *     $('.items').reverse();\n */\n\nexport const reverse = function() {\n  return $(toArray(this).reverse());\n};\n\n/**\n * Removes the first element from the collection, and returns that element.\n *\n * @return {Object} The first element from the collection.\n * @example\n *     var firstElement = $('.items').shift();\n */\n\nexport const shift = ArrayProto.shift;\n\n/**\n * Checks if the given callback returns a true(-ish) value for any of the elements in the collection.\n *\n * @param {Function} callback Function to execute for each element, invoked with `element` as argument.\n * @return {Boolean} Whether any element passed the callback check.\n * @example\n *     $('.items').some(function(element) {\n *         return element.hasAttribute('active')\n *     }); // true/false\n */\n\nexport const some = ArrayProto.some;\n\n/**\n * Adds one or more elements to the beginning of the collection, and returns the new length of the collection.\n *\n * @param {Object} element Element(s) to add to the collection\n * @return {Number} The new length of the collection\n * @example\n *     $('.items').unshift(element);\n */\n\nexport const unshift = ArrayProto.unshift;\n","/**\n * @module BaseClass\n */\n\nimport { $ as selector, DOMtastic } from './selector/index';\nimport { extend } from './util';\n\nexport default function(api) {\n\n  /**\n   * Provide subclass for classes or components to extend from.\n   * The opposite and successor of plugins (no need to extend `$.fn` anymore, complete control).\n   *\n   * @return {Class} The class to extend from, including all `$.fn` methods.\n   * @example\n   *     import { BaseClass } from  'domtastic';\n   *\n   *     class MyComponent extends BaseClass {\n   *         doSomething() {\n   *             return this.addClass('.foo');\n   *         }\n   *     }\n   *\n   *     let component = new MyComponent('body');\n   *     component.doSomething();\n   *\n   * @example\n   *     import $ from  'domtastic';\n   *\n   *     class MyComponent extends $.BaseClass {\n   *         progress(value) {\n   *             return this.attr('data-progress', value);\n   *         }\n   *     }\n   *\n   *     let component = new MyComponent(document.body);\n   *     component.progress('ive').append('<p>enhancement</p>');\n   */\n\n  class BaseClass {\n    constructor() {\n      DOMtastic.call(this, selector(...arguments));\n    }\n  }\n  extend(BaseClass.prototype, api);\n  return BaseClass;\n}\n","/**\n * @module CSS\n */\n\nimport { each } from './util';\n\nconst isNumeric = value => !isNaN(parseFloat(value)) && isFinite(value);\n\nconst camelize = value => value.replace(/-([\\da-z])/gi, (matches, letter) => letter.toUpperCase());\n\nconst dasherize = value => value.replace(/([a-z\\d])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Get the value of a style property for the first element, or set one or more style properties for each element in the collection.\n *\n * @param {String|Object} key The name of the style property to get or set. Or an object containing key-value pairs to set as style properties.\n * @param {String} [value] The value of the style property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').css('padding-left'); // get\n *     $('.item').css('color', '#f00'); // set\n *     $('.item').css({'border-width': '1px', display: 'inline-block'}); // set multiple\n */\n\nexport const css = function(key, value) {\n\n  let styleProps, prop, val;\n\n  if(typeof key === 'string') {\n    key = camelize(key);\n\n    if(typeof value === 'undefined') {\n      let element = this.nodeType ? this : this[0];\n      if(element) {\n        val = element.style[key];\n        return isNumeric(val) ? parseFloat(val) : val;\n      }\n      return undefined;\n    }\n\n    styleProps = {};\n    styleProps[key] = value;\n  } else {\n    styleProps = key;\n    for(prop in styleProps) {\n      val = styleProps[prop];\n      delete styleProps[prop];\n      styleProps[camelize(prop)] = val;\n    }\n  }\n\n  each(this, element => {\n    for(prop in styleProps) {\n      if(styleProps[prop] || styleProps[prop] === 0) {\n        element.style[prop] = styleProps[prop];\n      } else {\n        element.style.removeProperty(dasherize(prop));\n      }\n    }\n  });\n\n  return this;\n};\n","/**\n * @module DOM\n */\n\nimport { toArray } from '../util';\nimport { $ } from '../selector/index';\n\nconst forEach = Array.prototype.forEach;\n\n/**\n * Append element(s) to each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to append to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').append('<p>more</p>');\n */\n\nexport const append = function(element) {\n  if(this instanceof Node) {\n    if(typeof element === 'string') {\n      this.insertAdjacentHTML('beforeend', element);\n    } else {\n      if(element instanceof Node) {\n        this.appendChild(element);\n      } else {\n        const elements = element instanceof NodeList ? toArray(element) : element;\n        forEach.call(elements, this.appendChild.bind(this));\n      }\n    }\n  } else {\n    _each(this, append, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) at the beginning of each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place at the beginning of the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prepend('<span>start</span>');\n */\n\nexport const prepend = function(element) {\n  if(this instanceof Node) {\n    if(typeof element === 'string') {\n      this.insertAdjacentHTML('afterbegin', element);\n    } else {\n      if(element instanceof Node) {\n        this.insertBefore(element, this.firstChild);\n      } else {\n        let elements = element instanceof NodeList ? toArray(element) : element;\n        forEach.call(elements.reverse(), prepend.bind(this));\n      }\n    }\n  } else {\n    _each(this, prepend, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) before each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) before to the element(s).\n * Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').before('<p>prefix</p>');\n */\n\nexport const before = function(element) {\n  if(this instanceof Node) {\n    if(typeof element === 'string') {\n      this.insertAdjacentHTML('beforebegin', element);\n    } else {\n      if(element instanceof Node) {\n        this.parentNode.insertBefore(element, this);\n      } else {\n        const elements = element instanceof NodeList ? toArray(element) : element;\n        forEach.call(elements, before.bind(this));\n      }\n    }\n  } else {\n    _each(this, before, element);\n  }\n  return this;\n};\n\n/**\n * Place element(s) after each element in the collection.\n *\n * @param {String|Node|NodeList|Object} element What to place as sibling(s) after to the element(s). Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').after('<span>suf</span><span>fix</span>');\n */\n\nexport const after = function(element) {\n  if(this instanceof Node) {\n    if(typeof element === 'string') {\n      this.insertAdjacentHTML('afterend', element);\n    } else {\n      if(element instanceof Node) {\n        this.parentNode.insertBefore(element, this.nextSibling);\n      } else {\n        const elements = element instanceof NodeList ? toArray(element) : element;\n        forEach.call(elements.reverse(), after.bind(this));\n      }\n    }\n  } else {\n    _each(this, after, element);\n  }\n  return this;\n};\n\n/**\n * Clone a wrapped object.\n *\n * @return {Object} Wrapped collection of cloned nodes.\n * @example\n *     $(element).clone();\n */\n\nexport const clone = function() {\n  return $(_clone(this));\n};\n\n/**\n * Clone an object\n *\n * @param {String|Node|NodeList|Array} element The element(s) to clone.\n * @return {String|Node|NodeList|Array} The cloned element(s)\n * @private\n */\n\nexport const _clone = element => {\n  if(typeof element === 'string') {\n    return element;\n  } else if(element instanceof Node) {\n    return element.cloneNode(true);\n  } else if('length' in element) {\n    return [].map.call(element, el => el.cloneNode(true));\n  }\n  return element;\n};\n\n/**\n * Specialized iteration, applying `fn` in reversed manner to a clone of each element, but the provided one.\n *\n * @param {NodeList|Array} collection\n * @param {Function} fn\n * @param {Node} element\n * @private\n */\n\nexport const _each = (collection, fn, element) => {\n  let l = collection.length;\n  while(l--) {\n    const elm = l === 0 ? element : _clone(element);\n    fn.call(collection[l], elm);\n  }\n};\n","/**\n * @module Attr\n */\n\nimport { each } from '../util';\n\n/**\n * Get the value of an attribute for the first element, or set one or more attributes for each element in the collection.\n *\n * @param {String|Object} key The name of the attribute to get or set. Or an object containing key-value pairs to set as attributes.\n * @param {String} [value] The value of the attribute to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').attr('attrName'); // get\n *     $('.item').attr('attrName', 'attrValue'); // set\n *     $('.item').attr({attr1: 'value1', 'attr-2': 'value2'}); // set multiple\n */\n\nexport const attr = function(key, value) {\n\n  if(typeof key === 'string' && typeof value === 'undefined') {\n    const element = this.nodeType ? this : this[0];\n    return element ? element.getAttribute(key) : undefined;\n  }\n\n  return each(this, element => {\n    if(typeof key === 'object') {\n      for(let attr in key) {\n        element.setAttribute(attr, key[attr]);\n      }\n    } else {\n      element.setAttribute(key, value);\n    }\n  });\n};\n\n/**\n * Remove attribute from each element in the collection.\n *\n * @param {String} key Attribute name\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeAttr('attrName');\n */\n\nexport const removeAttr = function(key) {\n  return each(this, element => element.removeAttribute(key));\n};\n","/**\n * @module Class\n */\n\nimport { each } from '../util';\n\n/**\n * Add a class to the element(s)\n *\n * @param {String} value Space-separated class name(s) to add to the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').addClass('bar');\n *     $('.item').addClass('bar foo');\n */\n\nexport const addClass = function(value) {\n  if(value && value.length) {\n    each(value.split(' '), _each.bind(this, 'add'));\n  }\n  return this;\n};\n\n/**\n * Remove a class from the element(s)\n *\n * @param {String} value Space-separated class name(s) to remove from the element(s).\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.items').removeClass('bar');\n *     $('.items').removeClass('bar foo');\n */\n\nexport const removeClass = function(value) {\n  if(value && value.length) {\n    each(value.split(' '), _each.bind(this, 'remove'));\n  }\n  return this;\n};\n\n/**\n * Toggle a class at the element(s)\n *\n * @param {String} value Space-separated class name(s) to toggle at the element(s).\n * @param {Boolean} [state] A Boolean value to determine whether the class should be added or removed.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').toggleClass('bar');\n *     $('.item').toggleClass('bar foo');\n *     $('.item').toggleClass('bar', true);\n */\n\nexport const toggleClass = function(value, state) {\n  if(value && value.length) {\n    const action = typeof state === 'boolean' ? state ? 'add' : 'remove' : 'toggle';\n    each(value.split(' '), _each.bind(this, action));\n  }\n  return this;\n};\n\n/**\n * Check if the element(s) have a class.\n *\n * @param {String} value Check if the DOM element contains the class name. When applied to multiple elements,\n * returns `true` if _any_ of them contains the class name.\n * @return {Boolean} Whether the element's class attribute contains the class name.\n * @example\n *     $('.item').hasClass('bar');\n */\n\nexport const hasClass = function(value) {\n  return (this.nodeType ? [this] : this).some(element => element.classList.contains(value));\n};\n\n/**\n * Specialized iteration, applying `fn` of the classList API to each element.\n *\n * @param {String} fnName\n * @param {String} className\n * @private\n */\n\nconst _each = function(fnName, className) {\n  return each(this, element => element.classList[fnName](className));\n};\n","/**\n * @module contains\n */\n\n/**\n * Test whether an element contains another element in the DOM.\n *\n * @param {Element} container The element that may contain the other element.\n * @param {Element} element The element that may be a descendant of the other element.\n * @return {Boolean} Whether the `container` element contains the `element`.\n * @example\n *     $.contains(parentElement, childElement); // true/false\n */\n\nexport const contains = (container, element) => {\n  if(!container || !element || container === element) {\n    return false;\n  } else if(container.contains) {\n    return container.contains(element);\n  } else if(container.compareDocumentPosition) {\n    return !(container.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_DISCONNECTED);\n  }\n  return false;\n};\n","/**\n * @module Data\n */\n\nimport { each } from '../util';\n\nconst isSupportsDataSet = typeof document !== 'undefined' && 'dataset' in document.documentElement;\nconst DATAKEYPROP = isSupportsDataSet ? 'dataset' : '__DOMTASTIC_DATA__';\n\nconst camelize = str => str.replace(/-+(.)?/g, (match, char) => char ? char.toUpperCase() : '');\n\n/**\n * Get data from first element, or set data for each element in the collection.\n *\n * @param {String} key The key for the data to get or set.\n * @param {String} [value] The data to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').data('attrName'); // get\n *     $('.item').data('attrName', {any: 'data'}); // set\n */\n\nexport const data = function(key, value) {\n\n  if(typeof key === 'string' && typeof value === 'undefined') {\n    const element = this.nodeType ? this : this[0];\n    return element && DATAKEYPROP in element ? element[DATAKEYPROP][camelize(key)] : undefined;\n  }\n\n  return each(this, element => {\n    if(!isSupportsDataSet) {\n      element[DATAKEYPROP] = element[DATAKEYPROP] || {};\n    }\n\n    element[DATAKEYPROP][camelize(key)] = value;\n  });\n};\n\n/**\n * Get property from first element, or set property on each element in the collection.\n *\n * @param {String} key The name of the property to get or set.\n * @param {String} [value] The value of the property to set.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').prop('attrName'); // get\n *     $('.item').prop('attrName', 'attrValue'); // set\n */\n\nexport const prop = function(key, value) {\n\n  if(typeof key === 'string' && typeof value === 'undefined') {\n    const element = this.nodeType ? this : this[0];\n    return element && element ? element[key] : undefined;\n  }\n\n  return each(this, element => element[key] = value);\n};\n","/**\n * @module DOM (extra)\n */\n\nimport { each } from '../util';\nimport { append, before } from './index';\nimport { $ } from '../selector/index';\n\n/**\n * Append each element in the collection to the specified element(s).\n *\n * @param {Node|NodeList|Object} element What to append the element(s) to. Clones elements as necessary.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').appendTo(container);\n */\n\nexport const appendTo = function(element) {\n  const context = typeof element === 'string' ? $(element) : element;\n  append.call(context, this);\n  return this;\n};\n\n/*\n * Empty each element in the collection.\n *\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').empty();\n */\n\nexport const empty = function() {\n  return each(this, element => element.innerHTML = '');\n};\n\n/**\n * Remove the collection from the DOM.\n *\n * @return {Array} Array containing the removed elements\n * @example\n *     $('.item').remove();\n */\n\nexport const remove = function() {\n  return each(this, element => {\n    if(element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  });\n};\n\n/**\n * Replace each element in the collection with the provided new content, and return the array of elements that were replaced.\n *\n * @return {Array} Array containing the replaced elements\n */\n\nexport const replaceWith = function() {\n  return before.apply(this, arguments).remove();\n};\n\n/**\n * Get the `textContent` from the first, or set the `textContent` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').text('New content');\n */\n\nexport const text = function(value) {\n\n  if(value === undefined) {\n    return this[0].textContent;\n  }\n\n  return each(this, element => element.textContent = '' + value);\n};\n\n/**\n * Get the `value` from the first, or set the `value` of each element in the collection.\n *\n * @param {String} [value]\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('input.firstName').val('New value');\n */\n\nexport const val = function(value) {\n\n  if(value === undefined) {\n    return this.length > 0 ? this[0].value : undefined;\n  }\n\n  return each(this, element => element.value = value);\n};\n","/**\n * @module HTML\n */\n\nimport { each } from '../util';\n\n/*\n * Get the HTML contents of the first element, or set the HTML contents for each element in the collection.\n *\n * @param {String} [fragment] HTML fragment to set for the element. If this argument is omitted, the HTML contents are returned.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').html();\n *     $('.item').html('<span>more</span>');\n */\n\nexport const html = function(fragment) {\n\n  if(fragment === undefined) {\n    const element = this.nodeType ? this : this[0];\n    return element ? element.innerHTML : undefined;\n  }\n\n  return each(this, element => element.innerHTML = fragment);\n};\n","/**\n * @module closest\n */\n\nimport { $, matches } from './index';\nimport { each, uniq } from '../util';\n\n/**\n * Return the closest element matching the selector (starting by itself) for each element in the collection.\n *\n * @param {String} selector Filter\n * @param {Object} [context] If provided, matching elements must be a descendant of this element\n * @return {Object} New wrapped collection (containing zero or one element)\n * @chainable\n * @example\n *     $('.selector').closest('.container');\n */\n\nexport const closest = (() => {\n\n  const closest = function(selector, context) {\n    const nodes = [];\n    each(this, node => {\n      while(node && node !== context) {\n        if(matches(node, selector)) {\n          nodes.push(node);\n          break;\n        }\n        node = node.parentElement;\n      }\n    });\n    return $(uniq(nodes));\n  };\n\n  return typeof Element === 'undefined' || !Element.prototype.closest ? closest : function(selector, context) {\n    if(!context) {\n      const nodes = [];\n      each(this, node => {\n        const n = node.closest(selector);\n        if(n) {\n          nodes.push(n);\n        }\n      });\n      return $(uniq(nodes));\n    } else {\n      return closest.call(this, selector, context);\n    }\n  };\n})();\n","/**\n * @module Events\n */\n\nimport { each } from '../util';\nimport { closest } from '../selector/closest';\n\n/**\n * Shorthand for `addEventListener`. Supports event delegation if a filter (`selector`) is provided.\n *\n * @param {String} eventNames List of space-separated event types to be added to the element(s)\n * @param {String} [selector] Selector to filter descendants that delegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @param {Boolean} once=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').on('click', callback);\n *     $('.container').on('click focus', '.item', handler);\n */\n\nexport const on = function(eventNames, selector, handler, useCapture, once) {\n\n  if(typeof selector === 'function') {\n    handler = selector;\n    selector = null;\n  }\n\n  let parts,\n    namespace,\n    eventListener;\n\n  eventNames.split(' ').forEach(eventName => {\n\n    parts = eventName.split('.');\n    eventName = parts[0] || null;\n    namespace = parts[1] || null;\n\n    eventListener = proxyHandler(handler);\n\n    each(this, element => {\n\n      if(selector) {\n        eventListener = delegateHandler.bind(element, selector, eventListener);\n      }\n\n      if(once) {\n        const listener = eventListener;\n        eventListener = event => {\n          off.call(element, eventNames, selector, handler, useCapture);\n          listener.call(element, event);\n        };\n      }\n\n      element.addEventListener(eventName, eventListener, useCapture || false);\n\n      getHandlers(element).push({\n        eventName,\n        handler,\n        eventListener,\n        selector,\n        namespace\n      });\n    });\n\n  }, this);\n\n  return this;\n};\n\n/**\n * Shorthand for `removeEventListener`.\n *\n * @param {String} eventNames List of space-separated event types to be removed from the element(s)\n * @param {String} [selector] Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Boolean} useCapture=false\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').off('click', callback);\n *     $('#my-element').off('myEvent myOtherEvent');\n *     $('.item').off();\n */\n\nexport const off = function(eventNames = '', selector, handler, useCapture) {\n\n  if(typeof selector === 'function') {\n    handler = selector;\n    selector = null;\n  }\n\n  let parts,\n    namespace,\n    handlers;\n\n  eventNames.split(' ').forEach(eventName => {\n\n    parts = eventName.split('.');\n    eventName = parts[0] || null;\n    namespace = parts[1] || null;\n\n    return each(this, element => {\n\n      handlers = getHandlers(element);\n\n      each(handlers.filter(item => {\n        return (\n          (!eventName || item.eventName === eventName) &&\n          (!namespace || item.namespace === namespace) &&\n          (!handler || item.handler === handler) &&\n          (!selector || item.selector === selector)\n        );\n      }), item => {\n        element.removeEventListener(item.eventName, item.eventListener, useCapture || false);\n        handlers.splice(handlers.indexOf(item), 1);\n      });\n\n      if(!eventName && !namespace && !selector && !handler) {\n        clearHandlers(element);\n      } else if(handlers.length === 0) {\n        clearHandlers(element);\n      }\n\n    });\n\n  }, this);\n\n  return this;\n};\n\n/**\n * Add event listener and execute the handler at most once per element.\n *\n * @param eventNames\n * @param selector\n * @param handler\n * @param useCapture\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').one('click', callback);\n */\n\nexport const one = function(eventNames, selector, handler, useCapture) {\n  return on.call(this, eventNames, selector, handler, useCapture, 1);\n};\n\n/**\n * Get event handlers from an element\n *\n * @private\n * @param {Node} element\n * @return {Array}\n */\n\nconst eventKeyProp = '__domtastic_event__';\nlet id = 1;\nlet handlers = {};\nlet unusedKeys = [];\n\nexport const getHandlers = element => {\n  if(!element[eventKeyProp]) {\n    element[eventKeyProp] = unusedKeys.length === 0 ? ++id : unusedKeys.pop();\n  }\n  const key = element[eventKeyProp];\n  return handlers[key] || (handlers[key] = []);\n};\n\n/**\n * Clear event handlers for an element\n *\n * @private\n * @param {Node} element\n */\n\nexport const clearHandlers = element => {\n  const key = element[eventKeyProp];\n  if(handlers[key]) {\n    handlers[key] = null;\n    element[eventKeyProp] = null;\n    unusedKeys.push(key);\n  }\n};\n\n/**\n * Function to create a handler that augments the event object with some extra methods,\n * and executes the callback with the event and the event data (i.e. `event.detail`).\n *\n * @private\n * @param handler Callback to execute as `handler(event, data)`\n * @return {Function}\n */\n\nexport const proxyHandler = handler => function(event) {\n  return handler.call(this, augmentEvent(event));\n};\n\nconst eventMethods = {\n  preventDefault: 'isDefaultPrevented',\n  stopImmediatePropagation: 'isImmediatePropagationStopped',\n  stopPropagation: 'isPropagationStopped'\n};\nconst returnTrue = () => true;\nconst returnFalse = () => false;\n\n/**\n * Attempt to augment events and implement something closer to DOM Level 3 Events.\n *\n * @private\n * @param {Object} event\n * @return {Function}\n */\n\nconst augmentEvent = event => {\n  if(!event.isDefaultPrevented || event.stopImmediatePropagation || event.stopPropagation) {\n    for(const methodName in eventMethods) {\n      (function(methodName, testMethodName, originalMethod) {\n        event[methodName] = function() {\n          this[testMethodName] = returnTrue;\n          return originalMethod && originalMethod.apply(this, arguments);\n        };\n        event[testMethodName] = returnFalse;\n      }(methodName, eventMethods[methodName], event[methodName]));\n    }\n    if(event._preventDefault) {\n      event.preventDefault();\n    }\n  }\n  return event;\n};\n\n/**\n * Function to test whether delegated events match the provided `selector` (filter),\n * if the event propagation was stopped, and then actually call the provided event handler.\n * Use `this` instead of `event.currentTarget` on the event object.\n *\n * @private\n * @param {String} selector Selector to filter descendants that undelegate the event to this element.\n * @param {Function} handler Event handler\n * @param {Event} event\n */\n\nexport const delegateHandler = function(selector, handler, event) {\n  const eventTarget = event._target || event.target;\n  const currentTarget = closest.call([eventTarget], selector, this)[0];\n  if(currentTarget && currentTarget !== this) {\n    if(currentTarget === eventTarget || !(event.isPropagationStopped && event.isPropagationStopped())) {\n      handler.call(currentTarget, event);\n    }\n  }\n};\n\nexport const bind = on;\nexport const unbind = off;\n","/**\n * @module trigger\n */\n\nimport { win, each } from '../util';\nimport { contains } from '../dom/contains';\n\nconst reMouseEvent = /^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/;\nconst reKeyEvent = /^key(down|press|up)$/;\n\n/**\n * Trigger event at element(s)\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event (`params.detail` will be set to this).\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $('.item').trigger('anyEventType');\n */\n\nexport const trigger = function(type, data, {bubbles = true, cancelable = true, preventDefault = false} = {}) {\n\n  const EventConstructor = getEventConstructor(type);\n  const event = new EventConstructor(type, {\n    bubbles,\n    cancelable,\n    preventDefault,\n    detail: data\n  });\n\n  event._preventDefault = preventDefault;\n\n  return each(this, element => {\n    if(!bubbles || isEventBubblingInDetachedTree || isAttachedToDocument(element)) {\n      dispatchEvent(element, event);\n    } else {\n      triggerForPath(element, type, {\n        bubbles,\n        cancelable,\n        preventDefault,\n        detail: data\n      });\n    }\n  });\n};\n\nconst getEventConstructor = type => isSupportsOtherEventConstructors ? (reMouseEvent.test(type) ? MouseEvent : (reKeyEvent.test(type) ? KeyboardEvent : CustomEvent)) : CustomEvent;\n\n/**\n * Trigger event at first element in the collection. Similar to `trigger()`, except:\n *\n * - Event does not bubble\n * - Default event behavior is prevented\n * - Only triggers handler for first matching element\n *\n * @param {String} type Type of the event\n * @param {Object} data Data to be sent with the event\n * @example\n *     $('form').triggerHandler('submit');\n */\n\nexport const triggerHandler = function(type, data) {\n  if(this[0]) {\n    trigger.call(this[0], type, data, {\n      bubbles: false,\n      preventDefault: true\n    });\n  }\n};\n\n/**\n * Check whether the element is attached to or detached from) the document\n *\n * @private\n * @param {Node} element Element to test\n * @return {Boolean}\n */\n\nconst isAttachedToDocument = element => {\n  if(element === window || element === document) {\n    return true;\n  }\n  return contains(element.ownerDocument.documentElement, element);\n};\n\n/**\n * Dispatch the event at the element and its ancestors.\n * Required to support delegated events in browsers that don't bubble events in detached DOM trees.\n *\n * @private\n * @param {Node} element First element to dispatch the event at\n * @param {String} type Type of the event\n * @param {Object} [params] Event parameters (optional)\n * @param {Boolean} params.bubbles=true Does the event bubble up through the DOM or not.\n * Will be set to false (but shouldn't matter since events don't bubble anyway).\n * @param {Boolean} params.cancelable=true Is the event cancelable or not.\n * @param {Mixed} params.detail=undefined Additional information about the event.\n */\n\nconst triggerForPath = (element, type, params = {}) => {\n  params.bubbles = false;\n  const event = new CustomEvent(type, params);\n  event._target = element;\n  do {\n    dispatchEvent(element, event);\n  } while(element = element.parentNode); // eslint-disable-line no-cond-assign\n};\n\n/**\n * Dispatch event to element, but call direct event methods instead if available\n * (e.g. \"blur()\", \"submit()\") and if the event is non-cancelable.\n *\n * @private\n * @param {Node} element Element to dispatch the event at\n * @param {Object} event Event to dispatch\n */\n\nconst directEventMethods = ['blur', 'focus', 'select', 'submit'];\n\nconst dispatchEvent = (element, event) => {\n  if(directEventMethods.indexOf(event.type) !== -1 && typeof element[event.type] === 'function' && !event._preventDefault && !event.cancelable) {\n    element[event.type]();\n  } else {\n    element.dispatchEvent(event);\n  }\n};\n\n/**\n * Polyfill for CustomEvent, borrowed from [MDN](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill).\n * Needed to support IE (9, 10, 11) & PhantomJS\n */\n\n(() => {\n  const CustomEvent = function(event, params = {\n    bubbles: false,\n    cancelable: false,\n    detail: undefined\n  }) {\n    let customEvent = document.createEvent('CustomEvent');\n    customEvent.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return customEvent;\n  };\n\n  CustomEvent.prototype = win.CustomEvent && win.CustomEvent.prototype;\n  win.CustomEvent = CustomEvent;\n\n})();\n\n/*\n * Are events bubbling in detached DOM trees?\n * @private\n */\n\nconst isEventBubblingInDetachedTree = (() =>{\n  let isBubbling = false;\n  const doc = win.document;\n  if(doc) {\n    const parent = doc.createElement('div');\n    const child = parent.cloneNode();\n    parent.appendChild(child);\n    parent.addEventListener('e', function() {\n      isBubbling = true;\n    });\n    child.dispatchEvent(new CustomEvent('e', {bubbles: true}));\n  }\n  return isBubbling;\n})();\n\nconst isSupportsOtherEventConstructors = (() => {\n  try {\n    new MouseEvent('click');\n  } catch(e) {\n    return false;\n  }\n  return true;\n})();\n","/**\n * @module Ready\n */\n\n/**\n * Execute callback when `DOMContentLoaded` fires for `document`, or immediately if called afterwards.\n *\n * @param handler Callback to execute when initial DOM content is loaded.\n * @return {Object} The wrapped collection\n * @chainable\n * @example\n *     $(document).ready(callback);\n */\n\nexport const ready = function(handler) {\n  if(/complete|loaded|interactive/.test(document.readyState) && document.body) {\n    handler();\n  } else {\n    document.addEventListener('DOMContentLoaded', handler, false);\n  }\n  return this;\n};\n","/**\n * @module noConflict\n */\n\nimport { win } from './util';\n\n/*\n * Save the previous value of the global `$` variable, so that it can be restored later on.\n * @private\n */\n\nconst previousLib = win.$;\n\n/**\n * In case another library sets the global `$` variable before DOMtastic does,\n * this method can be used to return the global `$` to that other library.\n *\n * @return {Object} Reference to DOMtastic.\n * @example\n *     var domtastic = $.noConflict();\n */\n\nexport const noConflict = function() {\n  win.$ = previousLib;\n  return this;\n};\n","/**\n * @module Selector (extra)\n */\n\nimport { each, toArray } from '../util';\nimport { $, matches } from './index';\n\n/**\n * Return children of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').children();\n *     $('.selector').children('.filter');\n */\n\nexport const children = function(selector) {\n  const nodes = [];\n  each(this, element => {\n    if(element.children) {\n      each(element.children, child => {\n        if(!selector || (selector && matches(child, selector))) {\n          nodes.push(child);\n        }\n      });\n    }\n  });\n  return $(nodes);\n};\n\n/**\n * Add the elements of a wrapped collection to another.\n *\n * @param {String|Node|NodeList|Array} selector Query selector, `Node`, `NodeList`, array of elements, or HTML fragment string.\n * @return {Object} The extended wrapped collection\n * @example\n *     $('.items').concat($('.more-items));\n *     $('.items').concat('.more-items);\n *     $('.items').concat('<div>more</div>');\n */\n\nexport const concat = function(selector) {\n  each($(selector), element => {\n    if([].indexOf.call(this, element) === -1) {\n      [].push.call(this, element);\n    }\n  });\n  return this;\n};\n\n/**\n * Return child nodes of each element in the collection, including text and comment nodes.\n *\n * @return {Object} New wrapped collection\n * @example\n *     $('.selector').contents();\n */\n\nexport const contents = function() {\n  const nodes = [];\n  each(this, element => nodes.push.apply(nodes, toArray(element.childNodes)));\n  return $(nodes);\n};\n\n/**\n * Return a collection containing only the one at the specified index.\n *\n * @param {Number} index\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.items').eq(1)\n *     // The second item; result is the same as doing $($('.items')[1]);\n */\n\nexport const eq = function(index) {\n  return slice.call(this, index, index + 1);\n};\n\n/**\n * Return a collection containing only the first item.\n *\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.items').first()\n *     // The first item; result is the same as doing $($('.items')[0]);\n */\n\nexport const first = function() {\n  return slice.call(this, 0, 1);\n};\n\n/**\n * Return the DOM element at the specified index.\n *\n * @param {Number} index\n * @return {Node} Element at the specified index\n * @example\n *     $('.items').get(1)\n *     // The second element; result is the same as doing $('.items')[1];\n */\n\nexport const get = function(index) {\n  return this[index];\n};\n\n/**\n * Return the parent elements of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').parent();\n *     $('.selector').parent('.filter');\n */\n\nexport const parent = function(selector) {\n  const nodes = [];\n  each(this, element => {\n    if(!selector || (selector && matches(element.parentNode, selector))) {\n      nodes.push(element.parentNode);\n    }\n  });\n  return $(nodes);\n};\n\n/**\n * Return the sibling elements of each element in the collection, optionally filtered by a selector.\n *\n * @param {String} [selector] Filter\n * @return {Object} New wrapped collection\n * @chainable\n * @example\n *     $('.selector').siblings();\n *     $('.selector').siblings('.filter');\n */\n\nexport const siblings = function(selector) {\n  const nodes = [];\n  each(this, element => each(element.parentNode.children, sibling => {\n    if(sibling !== element && (!selector || (selector && matches(sibling, selector)))) {\n      nodes.push(sibling);\n    }\n  }));\n  return $(nodes);\n};\n\n/**\n * Create a new, sliced collection.\n *\n * @param {Number} start\n * @param {Number} end\n * @return {Object} New wrapped collection\n * @example\n *     $('.items').slice(1, 3)\n *     // New wrapped collection containing the second, third, and fourth element.\n */\n\nexport const slice = function(start, end) { // eslint-disable-line no-unused-vars\n  return $([].slice.apply(this, arguments));\n};\n","/**\n * @module Type\n */\n\n/*\n * Determine if the argument passed is a Javascript function object.\n *\n * @param {Object} [obj] Object to test whether or not it is a function.\n * @return {boolean}\n * @example\n *     $.isFunction(function(){}); // true\n * @example\n *     $.isFunction({}); // false\n */\n\nexport const isFunction = obj => typeof obj === 'function';\n\n/*\n * Determine whether the argument is an array.\n *\n * @param {Object} [obj] Object to test whether or not it is an array.\n * @return {boolean}\n * @example\n *     $.isArray([]); // true\n * @example\n *     $.isArray({}); // false\n */\n\nexport const isArray = Array.isArray;\n","/**\n * @module API\n */\n\nimport { extend } from './util';\n\nconst api = {};\nlet $ = {};\n\n// Import modules to build up the API\n\nimport * as array from './array';\nimport BaseClass from './baseClass';\nimport * as css from './css';\nimport * as dom from './dom/index';\nimport * as dom_attr from './dom/attr';\nimport * as dom_class from './dom/class';\nimport * as dom_contains from './dom/contains';\nimport * as dom_data from './dom/data';\nimport * as dom_extra from './dom/extra';\nimport * as dom_html from './dom/html';\nimport * as event from './event/index';\nimport * as event_trigger from './event/trigger';\nimport * as event_ready from './event/ready';\nimport * as noconflict from './noconflict';\nimport * as selector from './selector/index';\nimport * as selector_closest from './selector/closest';\nimport * as selector_extra from './selector/extra';\nimport * as type from './type';\n\nif(typeof selector !== 'undefined') {\n  $ = selector.$;\n  $.matches = selector.matches;\n  api.find = selector.find;\n}\n\nextend($, dom_contains, noconflict, type);\nextend(api, array, css, dom_attr, dom, dom_class, dom_data, dom_extra, dom_html, event, event_trigger, event_ready, selector_closest, selector_extra);\n\n$.fn = api;\n\n// Version\n\n$.version = '__VERSION__';\n\n// Util\n\n$.extend = extend;\n\n// Provide base class to extend from\n\nif(typeof BaseClass !== 'undefined') {\n  $.BaseClass = BaseClass($.fn);\n}\n\n// Export interface\n\nexport default $;\n","export default class Cookies {\n\n  static get YearMaxAge() {\n      let MaxAge =  365 * 24 * 60 * 60 * 1000; //1 year;\n      return MaxAge;\n  }\n\n  static write(name, value, options = {}) {\n    var str = `${this.encode(name)}=${this.encode(value)}`\n\n    if (value == null) {options.maxage = -1}\n\n    if (options.maxage) {\n      let date = new Date();\n      date.setTime(date.getTime()+(options.maxage));\n      options.expires = date.toUTCString();\n      //options.expires = new Date((new Date()).getTime() + options.maxage)\n    }\n\n    if (options.path) {str += '; path=' + options.path}\n    if (options.domain) {str += '; domain=' + options.domain}\n    if (options.expires) {str += '; expires=' + options.expires;}\n    if (options.secure) {str += '; secure'}\n\n    document.cookie = str\n  }\n\n  create(name, value, options = {}) {\n    var str = `${Cookies.encode(name)}=${Cookies.encode(value)}`\n\n    if (value == null) {options.maxage = -1}\n\n    if (options.maxage) {\n      let date = new Date();\n      date.setTime(date.getTime()+(options.maxage));\n      options.expires = date.toUTCString();\n      //options.expires = new Date((new Date()).getTime() + options.maxage)\n    }\n\n    if (options.path) {str += '; path=' + options.path}\n    if (options.domain) {str += '; domain=' + options.domain}\n    if (options.expires) {str += '; expires=' + options.expires;}\n    if (options.secure) {str += '; secure'}\n\n    document.cookie = str\n  }\n\n  static read(name) {\n    var cookies = this.parse(document.cookie);\n    if(name) {\n      return cookies[name] || null;\n    } else {\n      return cookies;\n    }\n  }\n\n  get(name) {\n    var cookies = Cookies.parse(document.cookie);\n    if(name) {\n      return cookies[name] || null;\n    } else {\n      return cookies;\n    }\n  }\n\n  static delete(name) {\n    if(name) {\n      this.write(name, null);\n    } else {\n      let cookies = this.read();\n      for(let key in cookies) {\n        if(cookies.hasOwnProperty(key)){\n          this.write(key, null)\n        }\n      }\n\n    }\n  }\n\n static parse(str) {\n    var obj = {},\n      pairs = str.split(/ *; */)\n\n    if (!pairs[0]) {return obj}\n\n    for (let pair of pairs) {\n      pair = pair.split('=')\n      obj[this.decode(pair[0])] = this.decode(pair[1])\n    }\n    return obj\n  }\n\n\n  static encode(value){\n    try {\n      return encodeURIComponent(value);\n    } catch (e) {\n      return null\n    }\n  }\n\n  static decode(value) {\n    try {\n      return decodeURIComponent(value);\n    } catch (e) {\n      return null\n    }\n  }\n\n}\n","'use strict';\nimport localQuery from 'domtastic';\nimport Cookies from './cookies';\n\nexport default class TTversatilePopup {\n\n  constructor(options = {}) {\n    this.header = options.header || false;\n    this.body = options.body || '';\n    this.footer = options.footer || false;\n    this.showOnLoad = !!options.showOnLoad; //default to show the popup not arrow\n    this.startDate = options.startDate || null; // starting date to show the widget\n    this.endDate = options.endDate || null; // end date of the widget to hide after passing this date\n    this.globalName =  options.globalName || false; // popup unique name to target all popup individually if more than one popup\n    this.customVisible = !!options.customVisible; // show hide popup on other pages based on current status\n    this.inForm = options.inForm || '';\n    this.$widget = \"\";\n  //  this.init();\n  }\n\n  get header() {\n    return this._header;\n  }\n  set header(value) {\n    this._header = value;\n  }\n  get body() {\n    return this._body;\n  }\n  set body(value) {\n    this._body = value;\n  }\n  get footer() {\n    return this._footer;\n  }\n  set footer(value) {\n    this._footer = value;\n  }\n\n  get htmlString() {\n    let showClass = '';\n    let showArrow = '';\n    let bgImage = \"\";\n    if (this.showOnLoad) {\n      if (Cookies.read('tt-' + this.globalName)) {\n        if (Cookies.read('tt-' + this.globalName) == 'show') {\n          showClass = ' ttw-versatile__card--show';\n          showArrow = '';\n        } else {\n          showClass = '';\n          showArrow = ' ttw-versatile__open--show';\n        }\n      } else {\n        if (this.customVisible) {\n          Cookies.write('tt-' + this.globalName, 'show', {'path':'/'});\n          showClass = ' ttw-versatile__card--show';\n        } else {\n          showClass = ' ttw-versatile__card--show';\n        }\n      }\n    } else {\n      if (Cookies.read('tt-' + this.globalName) == 'show') {\n        showArrow = '';\n        showClass = ' ttw-versatile__card--show';\n      }else{\n        showArrow = ' ttw-versatile__open--show';\n        showClass = '';\n      }\n    }\n    if (this.backgroundImage) {\n      bgImage = ` style=\"background-image:url('${this.backgroundImage}')\"`;\n    }\n    return `<div class=\"ttw-versatile ${this.globalName}\">\n            ${this.inForm}\n              <div class=\"ttw-versatile__card${showClass}\">\n            \t\t<span class=\"ttw-versatile__close\">&times;</span>\n            \t\t${this.header ? `<div class=\"ttw-versatile__title\">\n            \t\t\t${this.header}\n            \t\t</div>` : ``}\n              \t<div class=\"ttw-versatile__body\"${bgImage}>\n              \t  ${this.body}\n              \t</div>\n                ${this.footer ? `<div class=\"ttw-versatile__footer\">\n                  ${this.footer}\n                </div> ` : ``}\n              </div>\n              ${this.inForm ? '</form>': ''} \n            \t<span class=\"ttw-versatile__open${showArrow}\"><i>&rarr;</i></span>\n            </div>`;\n  }\n\n  createElementFromString(htmlString) {\n    let elem = document.createElement('div');\n    elem.innerHTML = htmlString.trim();\n    return elem.firstChild;\n  }\n\n  init() {\n    this._widget = this.createElementFromString(this.htmlString);\n    this.$widget = localQuery(this._widget);\n    if (typeof this.globalName == 'string') {\n      if (this.startDate != null && this.endDate != null) {\n        if (this.checkexpireDate(this.startDate, this.endDate)) {\n          localQuery('body').append(this.$widget);\n        }\n      } else {\n        localQuery('body').append(this.$widget);\n      }\n    } else {\n      console.error('Please set the \"globalName\" for TT Versatile Popup.');\n    }\n    localQuery(localQuery(this.$widget).find('.ttw-versatile__close')).on('click', () => {\n      this.hide();\n    });\n    localQuery(localQuery(this.$widget).find('.ttw-versatile__open')).on('click', () => {\n      this.show();\n    });\n  }\n\n  checkexpireDate(startDate = null, endDate = null) {\n    if (startDate != null && endDate != null) {\n      let start_date = new Date(startDate);\n      let end_date = new Date(endDate);\n      let today = new Date();\n      if (today >= start_date && today <= end_date) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  show() {\n    let conversionCard = this.$widget.find('.ttw-versatile__card');\n    let openBtn        = this.$widget.find('.ttw-versatile__open');\n\n    conversionCard.toggleClass('ttw-versatile__card--show');\n    openBtn.toggleClass('ttw-versatile__open--show');\n    if (this.customVisible) {\n      Cookies.write('tt-' + this.globalName, 'show', {'path':'/'});\n    }\n  }\n\n  hide() {\n    let conversionCard = this.$widget.find('.ttw-versatile__card');\n    let openBtn        = this.$widget.find('.ttw-versatile__open');\n\n    conversionCard.toggleClass('ttw-versatile__card--show');\n    openBtn.toggleClass('ttw-versatile__open--show');\n    if (this.customVisible) {\n      Cookies.write('tt-' + this.globalName, 'hide', {'path':'/'});\n    }\n  }\n\n}\n","import TTversatilePopup from './versatile-popup';\nimport Cookies from './cookies';\n\n\nlet ttPlugin = window.ttPlugin || {};\n\nttPlugin.versatileCard =  TTversatilePopup;\nttPlugin.Cookies =  Cookies;\n\nwindow.ttPlugin = ttPlugin;\n"],"sourceRoot":""}